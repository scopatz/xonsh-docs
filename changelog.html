

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Xonsh Change Log &#8212; xonsh 0.5.12 documentation</title>
    
    <link rel="stylesheet" href="_static/numpy_friendly.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5.12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="_static/cloud.js"></script>
    <link rel="shortcut icon" href="_static/magic_conch.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Frequently Asked Questions" href="faq.html" />
    <link rel="prev" title="Developer’s Guide" href="devguide.html" />
     
        <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="http://xon.sh/changelog.html"/>

  </head>
  <body role="document">
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="faq.html" title="Frequently Asked Questions"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="devguide.html" title="Developer’s Guide"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">xonsh 0.5.12 documentation</a> &#187;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="xonsh-change-log">
<h1>Xonsh Change Log<a class="headerlink" href="#xonsh-change-log" title="Permalink to this headline">¶</a></h1>
<div class="section" id="v0-5-12">
<h2>v0.5.12<a class="headerlink" href="#v0-5-12" title="Permalink to this headline">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed <code class="docutils literal"><span class="pre">release.xsh</span></code> to prevent it from dirtying the repo on release and
leading to an unwanted <code class="docutils literal"><span class="pre">.dev</span></code> suffix on the version number</li>
</ul>
</div>
<div class="section" id="v0-5-11">
<h2>v0.5.11<a class="headerlink" href="#v0-5-11" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">release.xsh</span></code> creates a github release with the merged news entries as the
release body</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">xonfig</span></code> now displays the proper value for &#8220;on linux&#8221;</li>
</ul>
</div>
<div class="section" id="v0-5-10">
<h2>v0.5.10<a class="headerlink" href="#v0-5-10" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">xclip</span></code> and <code class="docutils literal"><span class="pre">repo</span></code> to default threadable predictors (Issues #2355
and #2348)</li>
<li>Pretty printing of the $PATH variable</li>
<li>Add &#8220;fzf-widgets&#8221; xontrib which provides fuzzy search productivity widgets
with on custom keybindings to xontrib list.</li>
<li>New <code class="docutils literal"><span class="pre">free_cwd</span></code> xontrib for Windows, which prevent the current directory from beeing locked when the prompt is shown.
This allows the other programs or Windows explorer to delete the current or parent directory. This is accomplished by
reseting the CWD to the users home directory temporarily while the prompt is displayed. The directory is still locked
while any commands are processed so xonsh still can&#8217;t remove it own working directory.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Codecov threshold to 2%</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>On Windows environments variables in wrapped like``%foo%`` are no longer expanded automatically.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed the <code class="docutils literal"><span class="pre">--rc</span></code> option so it now runs xonsh with the specified rc file</li>
<li><code class="docutils literal"><span class="pre">&#64;$</span></code> operator now functions properly when returned command is an alias</li>
<li>Correct line continuation would not work on Windows if the line continuations were used
in the <code class="docutils literal"><span class="pre">xonshrc</span></code> file.</li>
<li>Fixed a regression in the Windows <code class="docutils literal"><span class="pre">sudo</span></code> command, that allows users to run elevated commands in xonsh.</li>
<li>Fix echo command from xoreutils.</li>
<li>Fixed a bug on Windows which meant xonsh wasn&#8217;t using PATH enrivonment variable but instead relying on a default
value from the widnows registry.</li>
</ul>
</div>
<div class="section" id="v0-5-9">
<h2>v0.5.9<a class="headerlink" href="#v0-5-9" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Add <code class="docutils literal"><span class="pre">Alt</span> <span class="pre">.</span></code> keybinding to <code class="docutils literal"><span class="pre">bashisms-xontrib</span></code> to insert last argument of
previous command into current buffer</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fix crash when openSSH version of bash is on PATH on Windows.</li>
<li>Added missing ensurers to make sure that <code class="docutils literal"><span class="pre">bool</span></code> env_vars are bools and
<code class="docutils literal"><span class="pre">int</span></code> env_vars are integers:<ul>
<li><code class="docutils literal"><span class="pre">DIRSTACK_SIZE</span></code></li>
<li><code class="docutils literal"><span class="pre">EXPAND_ENV_VARS</span></code></li>
<li><code class="docutils literal"><span class="pre">PUSHD_MINUS</span></code></li>
<li><code class="docutils literal"><span class="pre">PUSHD_SILENT</span></code></li>
<li><code class="docutils literal"><span class="pre">SUGGEST_COMMANDS</span></code></li>
<li><code class="docutils literal"><span class="pre">SUGGEST_MAX_NUM</span></code></li>
<li><code class="docutils literal"><span class="pre">SUGGEST_THRESHOLD</span></code></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="v0-5-8">
<h2>v0.5.8<a class="headerlink" href="#v0-5-8" title="Permalink to this headline">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">xonsh.platform.os_environ</span></code> wrapper is  now case-insesitive and
case-preserving on Windows.</li>
<li>The private <code class="docutils literal"><span class="pre">_TeeStd</span></code> class will no longer attempt to write to a
standard buffer after the tee has been &#8216;closed&#8217; and the standard
buffer returned to the system.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed a bug on py34 where os.scandir was used by accident.</li>
<li>Line continuations (<code class="docutils literal"><span class="pre">\\</span></code>) is subproc mode will no longer consume the
surrounding whitespace.</li>
<li>Fixed a bug if foreign_shell name was not written in lower case in
the static configuration file <code class="docutils literal"><span class="pre">config.json</span></code></li>
<li>Fixed a regression on Windows where caused <code class="docutils literal"><span class="pre">which</span></code> reported that the
<code class="docutils literal"><span class="pre">PATH</span></code> envrionment variable could not be found.</li>
<li>Fixed issue with foregrounding jobs that were started in the background.</li>
<li>Fixed that <code class="docutils literal"><span class="pre">Ctrl-C</span></code> crashes xonsh after running an invalid command.</li>
<li>Fixed an potential <code class="docutils literal"><span class="pre">ProcessLookupError</span></code> issue, see #2288.</li>
</ul>
</div>
<div class="section" id="v0-5-7">
<h2>v0.5.7<a class="headerlink" href="#v0-5-7" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>New <code class="docutils literal"><span class="pre">color_tools</span></code> module provides basic color tools for converting
to and from various formats as well as creating pallettes from color
strings.</li>
<li>Redirections may now be used in string and list-of-strings
aliases.</li>
<li>Subprocess redirection may now forego the whitespace between the
redirection and a file name.  For example,
<code class="docutils literal"><span class="pre">echo</span> <span class="pre">hello</span> <span class="pre">world</span> <span class="pre">&gt;/dev/null</span></code>.</li>
<li>Add a <code class="docutils literal"><span class="pre">-P</span></code> flag to the <code class="docutils literal"><span class="pre">cd</span></code> function in order to change directory and
following symlinks.</li>
<li><code class="docutils literal"><span class="pre">xonfig</span> <span class="pre">tutorial</span></code> command to launch the <a class="reference external" href="http://xon.sh/tutorial">http://xon.sh/tutorial</a> in the
browser.</li>
<li><code class="docutils literal"><span class="pre">&#64;(...)</span></code> syntax now supports generators and tuples without parentheses.</li>
<li>Sourcing foreign shells now have the <code class="docutils literal"><span class="pre">--show</span></code> option, which
lets you see when script will be run, and the <code class="docutils literal"><span class="pre">--dryrun</span></code>
option which prevents the source from actually taking place.
Xonsh&#8217;s foreign shell API also added these keyword arguments.</li>
<li>Subprocess mode now supports subshells. Place any xonsh
code between two parentheses, e.g. <code class="docutils literal"><span class="pre">(cmd)</span></code>, to run
this command in a separate xonsh subprocess.</li>
<li>Foreign shell aliases now have the ability to take extra arguments,
if needed.</li>
<li>Xonsh will issue a warning message when the current working
directory has been remove out from under it and not replaced
prior to running the next command.</li>
<li>Line continuation backslashes are respected on Windows in the PTK shell if
the backspace is is preceded by a space.</li>
<li>Added <code class="docutils literal"><span class="pre">ponysay</span></code> as a command which will ususally not run in a
threaded mode in the commands cache.</li>
<li>New <code class="docutils literal"><span class="pre">jsonutils</span></code> module available for serializing special
xonsh objects to JSON.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>The literal tokens <code class="docutils literal"><span class="pre">and</span></code> and <code class="docutils literal"><span class="pre">or</span></code> must be surrounded by
whitespace to delimit subprocess mode. If they do not have
whitespace on both sides in subproc mode, they are condisered
to be part of a command argument.</li>
<li>The <code class="docutils literal"><span class="pre">xontrib</span></code> command is now flagged as unthreadable and will be
run on the main Python thread. This allows xontribs to set signal
handlers and other operations that require the main thread.</li>
<li>nvim (Neovim) has been flagged as unthreadable</li>
<li>The interactive prompt will now catch <code class="docutils literal"><span class="pre">SystemExit</span></code> and, instead
of exiting the session, will refresh the prompt. This is the same
process as for keyboard interrupts.</li>
<li>Xonsh no longer launches the wizard for new users. Instead a welcome screen is
shown which says how to launch the wizard.</li>
<li>Added Windows <code class="docutils literal"><span class="pre">expanduser()</span></code>-like function which prevents
the expansion of <code class="docutils literal"><span class="pre">~</span></code> that are not followed by a path
separator.</li>
<li>Collecting xonsh history files was reported to have random runtime
OSError failures. This exception is now handled, just in case. The
The exception will still be printed in debug mode.</li>
<li><code class="docutils literal"><span class="pre">Shell.stype</span></code> has been renamed to <code class="docutils literal"><span class="pre">Shell.shell_type</span></code>.</li>
<li>The configuration wizard now displays the proper control sequence to leave
the wizard at the to start of the wizard itself. Note that this is Ctrl+D for
readline and Ctrl+C for prompt-toolkit.</li>
<li>Callable alias proxy functions are now more friendly to
<code class="docutils literal"><span class="pre">functools.partial()</span></code>.</li>
<li><code class="docutils literal"><span class="pre">prompt.vc.get_hg_branch</span></code> now uses <code class="docutils literal"><span class="pre">os.scandir</span></code> to walk up the filetree
looking for a <code class="docutils literal"><span class="pre">.hg</span></code> directory. This results in (generally) faster branch
resolution compared to the subprocess call to <code class="docutils literal"><span class="pre">hg</span> <span class="pre">root</span></code>.</li>
<li>Xonsh&#8217;s script and code caches will are now invalidated whenever the
xonsh version changes for a given Python version.</li>
<li>Autowrapping of subprocess globs has been improved to cover
more cases that are ambiguous with Python syntax.</li>
<li>Job control info when foregrounding or backgrounding jobs will now
only be displayed when xonsh is in interactive mode.</li>
<li>Enabled virtual terminal processing in the prompt-toolkit shell for Windows.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>3rd party pygments styles (like solorized or monokailight) are now
able to be used in xonsh. These styles are dynamically created upon
first use, rather than being lazily loaded by xonsh.</li>
<li>On Windows, <code class="docutils literal"><span class="pre">os.environ</span></code> is case insensitive. This would potentially
change the case of envrionment variables set into the environment.
Xonsh now uses <code class="docutils literal"><span class="pre">nt.envrion</span></code>, the case sensitive counterpart, to avoid
these issues on Windows.</li>
<li>Fix how <code class="docutils literal"><span class="pre">$PWD</span></code> is managed in order to work with symlinks gracefully</li>
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">replay</span></code> no longer barfs on <code class="docutils literal"><span class="pre">style_name</span></code> when setting up the
environment</li>
<li><code class="docutils literal"><span class="pre">Shell.shell_type</span></code> is now properly set to the same value as <code class="docutils literal"><span class="pre">$SHELL_TYPE</span></code>.</li>
<li>Fixed <code class="docutils literal"><span class="pre">source-zsh</span></code> to work with zsh v5.2.</li>
<li>Fixed issue where <code class="docutils literal"><span class="pre">del</span> <span class="pre">(x,</span> <span class="pre">y)</span></code> would raise a syntax error.</li>
<li>Certain vim commands issue commands involving subshells,
and this is now supported.</li>
<li>Null bytes handed to Popen are now automatically escaped prior
to running a subprocess. This preevents Popen from issuing
embedded null byte exceptions.</li>
<li>Xonsh will no longer crash is the current working directory is
removed out from under it.</li>
<li>Multiline strings can now be written in subprocess mode.</li>
<li>PTK completions will now correctly deduplicate autosuggest completions
and display completions values based on the cursor position.</li>
<li>Fixed bug where trailing backspaces on Windows paths could be interpreted
as line continuations characters. Now line continuation characters must be
preceded by a space on Windows. This only applies to xonsh in interactive
mode to ensure  scripts are portable.</li>
<li>Importing <code class="docutils literal"><span class="pre">*.xsh</span></code> files will now respect the encoding listed in
that file and properly fallback to UTF-8. This beahviour follows
the rules described in PEP 263.</li>
<li>Wizard is now able to properly serialize envrionment paths.</li>
</ul>
</div>
<div class="section" id="v0-5-6">
<h2>v0.5.6<a class="headerlink" href="#v0-5-6" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>New core utility function aliases (written in pure Python) are now
available in <code class="docutils literal"><span class="pre">xonsh.xoreutils</span></code>. These include: <code class="docutils literal"><span class="pre">cat</span></code>, <code class="docutils literal"><span class="pre">echo</span></code>,
<code class="docutils literal"><span class="pre">pwd</span></code>, <code class="docutils literal"><span class="pre">tee</span></code>, <code class="docutils literal"><span class="pre">tty</span></code>, and <code class="docutils literal"><span class="pre">yes</span></code>. These are not enabled by default.
Use the new <code class="docutils literal"><span class="pre">coreutils</span></code> xontrib to load them.</li>
<li>CircleCI test post codecov run</li>
<li>The <code class="docutils literal"><span class="pre">trace</span></code> will automatically disable color printing when
stdout is not a TTY or stdout is captured.</li>
<li>New <code class="docutils literal"><span class="pre">jedi</span></code> xontrib enables jedi-based tab completions when it is loaded.
This supercedes xonsh&#8217;s default Python-mode completer.</li>
<li>The lexer has a new <code class="docutils literal"><span class="pre">split()</span></code> method which splits strings
according to xonsh&#8217;s rules for whitespace and quotes.</li>
<li>New events for hooking into the Python import process are now available.
You can now provide a handler for:<ul>
<li><code class="docutils literal"><span class="pre">on_import_pre_find_spec</span></code></li>
<li><code class="docutils literal"><span class="pre">on_import_post_find_spec</span></code></li>
<li><code class="docutils literal"><span class="pre">on_import_pre_create_module</span></code></li>
<li><code class="docutils literal"><span class="pre">on_import_post_create_module</span></code></li>
<li><code class="docutils literal"><span class="pre">on_import_pre_exec_module</span></code></li>
<li><code class="docutils literal"><span class="pre">on_import_post_exec_module</span></code></li>
</ul>
</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>The prompt toolkit shell&#8217;s first completion will now be the
current token from the auto-suggetion, if available.</li>
<li>Sourcing foreign shells will now safely skip applying aliases
with the same name as existing xonsh aliases by default.
This prevents accitidentally overwriting important xonsh standard
aliases, such as <code class="docutils literal"><span class="pre">cd</span></code>.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Threadable predicition for subprocesses will now consult both the command
as it was typed in and any resolved aliases.</li>
<li>The first prompt will no longer print in the middle of the line if the user has
already started typing.</li>
<li>Windows consoles will now automatically enable virtual terminal processing
with the readline shell, if available. This allows the full use of ANSI
escape sequences.</li>
<li>On the Windows readline shell, the teb-completion supression prompt will no
longer error out depending on what you press.</li>
<li>Fixed issue with subprocess mode wrapping not repecting line continuation
backslashes.</li>
<li>Handle a bug where Bash On Windows causes platform.windows_bash_command()
to raise CalledProcessError.</li>
<li>Fixed issues pertaining to completing from raw string paths.
This is particularly relevant to Windows, where raw strings
are instered in path completion.</li>
<li>Replace deprecated calls to <code class="docutils literal"><span class="pre">time.clock()</span></code> by calls to
<code class="docutils literal"><span class="pre">time.perf_counter()</span></code>.</li>
<li>Use <code class="docutils literal"><span class="pre">clock()</span></code> to set the start time of <code class="docutils literal"><span class="pre">_timings</span></code> in non-windows instead
of manually setting it to <code class="docutils literal"><span class="pre">0.0</span></code>.</li>
<li>The <code class="docutils literal"><span class="pre">trace</span></code> utility will now correctly color output and not
print extraneous newlines when called in a script.</li>
<li>The <code class="docutils literal"><span class="pre">&#64;$(cmd)</span></code> operator now correctly splits strings according to
xonsh semantics, rather than just on whitespace using <code class="docutils literal"><span class="pre">str.split()</span></code>.</li>
<li>The <code class="docutils literal"><span class="pre">mpl</span></code> xontrib has been updated to improve matplotlib
handling. If <code class="docutils literal"><span class="pre">xontrib</span> <span class="pre">load</span> <span class="pre">mpl</span></code> is run before matplotlib
is imported and xonsh is in ineteractive mode, matplotlib
will automatically enter interactive mode as well. Additionally,
<code class="docutils literal"><span class="pre">pyplot.show()</span></code> is patched in interactive mode to be non-blocking.
If a non-blocking show fails to draw the figre for some reason,
a regular blocking version is called.</li>
<li>Fixed issues like <code class="docutils literal"><span class="pre">timeit</span> <span class="pre">ls</span></code> causing OSError - &#8220;Inappropriate ioctl
for device&#8221;.</li>
<li>Fixed a potential &#8220;OSError: [Errno 22] Invalid argument&#8221; to increase job
control stability.</li>
</ul>
</div>
<div class="section" id="v0-5-5">
<h2>v0.5.5<a class="headerlink" href="#v0-5-5" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>New <code class="docutils literal"><span class="pre">--rc</span></code> command line option allows users to specify paths to run control
files from the command line. This includes both xonsh-based and JSON-based
configuration.</li>
<li>New <code class="docutils literal"><span class="pre">$UPDATE_COMPLETIONS_ON_KEYPRESS</span></code> controls whether or not completions
will automatically display and update while typing. This feature is only
available in the prompt-toolkit shell.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Xonsh scripts now report <code class="docutils literal"><span class="pre">__file__</span></code> and <code class="docutils literal"><span class="pre">__name__</span></code> when run as scripts
or sourced. These variables have the same meaning as they do in Python
scripts.</li>
<li><code class="docutils literal"><span class="pre">$XONSHRC</span></code> and related configuration variables now accept JSON-based
static configuration file names as elements. This unifies the two methods
of run control to a single entry point and loading system.</li>
<li>The <code class="docutils literal"><span class="pre">xonsh.shell.Shell()</span></code> class now requires that an Execer instance
be explicitly provided to its init method. This class is no longer
responsible for creating an execer an its deprendencies.</li>
<li>Moved decorators <code class="docutils literal"><span class="pre">unthreadable</span></code>, <code class="docutils literal"><span class="pre">uncapturable</span></code> from
<code class="docutils literal"><span class="pre">xonsh.proc</span></code> to <code class="docutils literal"><span class="pre">xonsh.tools</span></code>.</li>
<li>Some refactorings on jobs control.</li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">--config-path</span></code> command line option is now deprecated in favor of
<code class="docutils literal"><span class="pre">--rc</span></code>.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">xonsh.environ.DEFAULT_XONSHRC</span></code> has been removed due to deprecation.
For this value, please check the environment instead, or call
<code class="docutils literal"><span class="pre">xonsh.environ.default_xonshrc(env)</span></code>.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Command pipelines that end in a callable alias are now interruptable with
<code class="docutils literal"><span class="pre">^C</span></code> and the processes that are piped into the alais have their file handles
closed. This should ensure that the entire pipeline is closed.</li>
<li>Fixed issue where unthreadable subprocs were not allowed to be
captured with the <code class="docutils literal"><span class="pre">$(cmd)</span></code> operator.</li>
<li>The <code class="docutils literal"><span class="pre">ProcProxy</span></code> class (unthreadable aliases) was not being executed and would
hange if the alias was capturable. This has been fixed.</li>
<li>Fixed a <code class="docutils literal"><span class="pre">tcsetattr:</span> <span class="pre">Interrupted</span> <span class="pre">system</span> <span class="pre">call</span></code> issue when run xonsh scripts.</li>
<li>Fixed issue with <code class="docutils literal"><span class="pre">ValueError</span></code> being thrown from <code class="docutils literal"><span class="pre">inspect.signature()</span></code>
when called on C-extention callables in tab completer.</li>
<li>Fixed issue that <code class="docutils literal"><span class="pre">ls</span> <span class="pre">|</span> <span class="pre">less</span></code> crashes on Mac.</li>
<li>Threadable prediction was incorrectly based on the user input command, rather than
the version where aliases have been resolved. This has been corrected.</li>
</ul>
</div>
<div class="section" id="v0-5-4">
<h2>v0.5.4<a class="headerlink" href="#v0-5-4" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Add alias <code class="docutils literal"><span class="pre">xip</span></code> (&#8220;kip&#8221;) so that xonsh&#8217;s Python environment (whatever that is) can be modified.</li>
<li>HistoryEntry, a SimpleNamespace object that represents a command in history.</li>
<li><code class="docutils literal"><span class="pre">xonsh.completers.bash_completion</span></code> module</li>
<li>Added option to report timing information of xonsh startup times. Start xonsh
with the <code class="docutils literal"><span class="pre">--timings</span></code> flag to use the feature.</li>
<li>The Python tab completer will now complete the argument names of functions
and other callables.</li>
<li>Uptime module added to <code class="docutils literal"><span class="pre">xonsh.xoreutils</span></code>. This can report the system
boot time and up time.</li>
<li>The environment variable <code class="docutils literal"><span class="pre">XONSH_HISTORY_BACKEND</span></code> now also supports a
value of class type or a History Backend instance.</li>
<li><code class="docutils literal"><span class="pre">on_envvar_new</span></code> event that fires after a new envvar is created.</li>
<li><code class="docutils literal"><span class="pre">on_envvar_change</span></code> event that fires after an envvar is changed.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>history indexing api to be more simple, now returns HistoryEntry.</li>
<li>Decoupled <code class="docutils literal"><span class="pre">bash_completion</span></code> from xonsh project and added shim back to
xonsh.</li>
<li>The JSON history backend will now unlock history files that were created
prior to the last reboot.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed broken bash completions on Windows if &#8216;Windows Subsystem for Linux&#8217; is installed.</li>
<li>Readline history would try to read the first element of history prior to
actually loading any history. This caused an exception to be raised on
Windows at xonsh startup when using pyreadline.</li>
<li>Fixed issue with readline tab completer overwriting initial prefix in
some instances.</li>
<li>Fixed issue wherein if <code class="docutils literal"><span class="pre">git</span></code> or (presumably) <code class="docutils literal"><span class="pre">hg</span></code> are aliased, then branch
information no longer appears in the <code class="docutils literal"><span class="pre">$PROMPT</span></code></li>
<li>Fixed an issue with commands that background themselves (such as
<code class="docutils literal"><span class="pre">gpg-connect-agent</span></code>) not being able to be run from within xonshrc.</li>
</ul>
</div>
<div class="section" id="v0-5-3">
<h2>v0.5.3<a class="headerlink" href="#v0-5-3" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Tab completion xontrib for python applications based on click framework.</li>
<li>Added <code class="docutils literal"><span class="pre">on_transform_command</span></code> event for pre-processing that macros can&#8217;t handle.</li>
<li>Autodetection of backgroundability by binary analysis on POSIX.</li>
<li>New argument <code class="docutils literal"><span class="pre">expand_user=True</span></code> to <code class="docutils literal"><span class="pre">tools.expand_path</span></code>.</li>
<li>New <code class="docutils literal"><span class="pre">$COMPLETION_QUERY_LIMIT</span></code> environment variable for setting the
number of completions above which the user will be asked if they wish to
see the potential completions.</li>
<li>Users may now redirect stdout to stderr in subprocess mode.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">Block</span></code> and <code class="docutils literal"><span class="pre">Functor</span></code> context managers from <code class="docutils literal"><span class="pre">xonsh.contexts</span></code> have been
rewritten to use xonsh&#8217;s macro capabilities. You must now enter these via the
<code class="docutils literal"><span class="pre">with!</span></code> statement, e.g. <code class="docutils literal"><span class="pre">with!</span> <span class="pre">Block():</span> <span class="pre">pass</span></code>.</li>
<li>The <code class="docutils literal"><span class="pre">distributed</span></code> xontrib now needs to use the <code class="docutils literal"><span class="pre">with!</span></code> statement, since it
relies on <code class="docutils literal"><span class="pre">Functor</span></code>.</li>
<li><code class="docutils literal"><span class="pre">telnet</span></code> has been flagged as unthreadable.</li>
<li>When <code class="docutils literal"><span class="pre">$DYNAMIC_CWD_ELISION_CHAR</span></code> is non empty and the last dir of cwd is too
long and shortened, the elision char is added at the end.</li>
<li><code class="docutils literal"><span class="pre">pygments</span></code> is no longer a strict dependency of the <code class="docutils literal"><span class="pre">prompt_toolkit</span></code>
backend. If <code class="docutils literal"><span class="pre">pygments</span></code> is not installed, the PTK backend will use the
default ansi color settings from the terminal. Syntax highlighting requires
that <code class="docutils literal"><span class="pre">pygments</span></code> is installed.</li>
<li>Events are now keyword arguments only</li>
<li>Restored <code class="docutils literal"><span class="pre">on_precommand</span></code> to its original signature.</li>
<li>Move <code class="docutils literal"><span class="pre">built_ins.expand_path</span></code> to <code class="docutils literal"><span class="pre">tools.expand_path</span></code>.</li>
<li>Rename <code class="docutils literal"><span class="pre">tools.expandpath</span></code> to <code class="docutils literal"><span class="pre">tools._expandpath</span></code>.</li>
<li>Added <code class="docutils literal"><span class="pre">gvim</span></code> command to unthreadable predictors.</li>
<li>The <code class="docutils literal"><span class="pre">source</span></code> alias now passes <code class="docutils literal"><span class="pre">$ARGS</span></code> down to file it is sourcing.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">XonshBlockError</span></code> has been removed, since it no longer serves a purpose.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">PopenThread</span></code> will now re-issue SIGINT to the main thread when it is
recieved.</li>
<li>Fixed an issue that using sqlite history backend does not kill unfinished
jobs when quitting xonsh with a second &#8220;exit&#8221;.</li>
<li>Fixed an issue that xonsh would fail over to external shells when
running .xsh script which raises exceptions.</li>
<li>Fixed an issue with <code class="docutils literal"><span class="pre">openpty()</span></code> returning non-unix line endings in its buffer.
This was causing git and ssh to fail when xonsh was used as the login shell on the
server. See <a class="reference external" href="https://mail.python.org/pipermail/python-list/2013-June/650460.html">https://mail.python.org/pipermail/python-list/2013-June/650460.html</a> for
more details.</li>
<li>Restored the ability to ^Z and <code class="docutils literal"><span class="pre">fg</span></code> processes on posix platforms.</li>
<li>CommandPipelines were not gauranteeded to have been ended when the return code
was requested. This has been fixed.</li>
<li>Introduce path expansion in <code class="docutils literal"><span class="pre">is_writable_file</span></code> to fix
<code class="docutils literal"><span class="pre">$XONSH_TRACEBACK_LOGFILE=~/xonsh.log</span></code>.</li>
<li>Backgrounding a running process (^Z) now restores ECHO mode to the terminal
in cases where the subprocess doesn&#8217;t properly restore itself. A major instance
of this behaviour is Python&#8217;s interactive interpreter.</li>
<li>Readline backend would not ask the user to confirm the printing of completion
options if they numbered above a certain value. Instead they would be dumped to
the screen. This has been fixed.</li>
<li>Jupyter kernel was no longer properly running subprocess commands.
This has been fixed.</li>
<li>The filename is applied to the target of the <code class="docutils literal"><span class="pre">source</span></code> alias, providing better
tracebacks.</li>
</ul>
</div>
<div class="section" id="v0-5-2">
<h2>v0.5.2<a class="headerlink" href="#v0-5-2" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">weechat</span></code> to default predictors</li>
<li><code class="docutils literal"><span class="pre">$DYNAMIC_CWD_ELISION_CHAR</span></code> environment variable to control how a shortened
path is displayed.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">_ret_code</span></code> function of <code class="docutils literal"><span class="pre">prompt_ret_code</span></code> xontrib return now <code class="docutils literal"><span class="pre">None</span></code> when
return code is 0 instead of empty string allowing more customization of prompt
format.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Minor Python completer token counting bug fix.</li>
<li>multiline syntax error in PTK shell due to buffer not being reset</li>
<li>Segfaults and other early exit signals are now reported correctly,
again.</li>
<li><code class="docutils literal"><span class="pre">tests/bin/{cat,pwd,wc}</span></code> shebang changed to python3</li>
</ul>
</div>
<div class="section" id="v0-5-1">
<h2>v0.5.1<a class="headerlink" href="#v0-5-1" title="Permalink to this headline">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed xonfig raising error when xonsh is not installed from source.</li>
</ul>
</div>
<div class="section" id="v0-5-0">
<h2>v0.5.0<a class="headerlink" href="#v0-5-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>$XONTRIB_MPL_MINIMAL environment variable can be set to change if plots are minimalist or as-seen</li>
<li>xontrib-mpl now supports iTerm2 inline image display if iterm2_tools python package is installed</li>
<li>Xonsh now will fallback to other shells if encountered errors when
starting up.</li>
<li>Added entry to customization faq re: <code class="docutils literal"><span class="pre">dirs</span></code> alias (#1452)</li>
<li>Added entry to customization faq re: tab completion selection (#1725)</li>
<li>Added entry to customization faq re: libgcc core dump (#1160)</li>
<li>Section about quoting in the tutorial.</li>
<li>The <code class="docutils literal"><span class="pre">$VC_HG_SHOW_BRANCH</span></code> environement variable to control whether to hide the hg branch in the prompt.</li>
<li>xonfig now contains the latest git commit date if xonsh installed
from source.</li>
<li>Alt+Enter will execute a multiline code block irrespective of cursor position</li>
<li>Windows now has the ability to read output asyncronously from
the console.</li>
<li>Use <a class="reference external" href="https://drdoctr.github.io/doctr/">doctr</a> to deploy dev docs to github pages</li>
<li>New <code class="docutils literal"><span class="pre">xonsh.proc.uncapturable()</span></code> decorator for declaring that function
aliases should not be run in a captured subprocess.</li>
<li>New history backend sqlite.</li>
<li>Prompt user to install xontrib package if they try to load an uninstalled
xontrib</li>
<li>Callable aliases may now take a final <code class="docutils literal"><span class="pre">spec</span></code> arguemnt, which is the
cooresponding <code class="docutils literal"><span class="pre">SubprocSpec</span></code> instance.</li>
<li>New <code class="docutils literal"><span class="pre">bashisms</span></code> xontrib provides additional Bash-like syntax, such as <code class="docutils literal"><span class="pre">!!</span></code>.
This xontrib only affects the command line, and not xonsh scripts.</li>
<li>Tests that create testing repos (git, hg)</li>
<li>New subprocess specification class <code class="docutils literal"><span class="pre">SubprocSpec</span></code> is used for specifiying
and manipulating subprocess classes prior to execution.</li>
<li>New <code class="docutils literal"><span class="pre">PopenThread</span></code> class runs subprocesses on a a separate thread.</li>
<li>New <code class="docutils literal"><span class="pre">CommandPipeline</span></code> and <code class="docutils literal"><span class="pre">HiddenCommandPipeline</span></code> classes manage the
execution of a pipeline of commands via the execution of the last command
in the pipeline. Instances may be iterated and stream lines from the
stdout buffer. These pipelines read from the stdout &amp; stderr streams in a
non-blocking manner.</li>
<li><code class="docutils literal"><span class="pre">$XONSH_STORE_STDOUT</span></code> is now available on all platforms!</li>
<li>The <code class="docutils literal"><span class="pre">CommandsCache</span></code> now has the ability to predict whether or not a
command must be run in the foreground using <code class="docutils literal"><span class="pre">Popen</span></code> or may use a
background thread and can use <code class="docutils literal"><span class="pre">PopenThread</span></code>.</li>
<li>Callable aliases may now use the full gamut of functions signatures:
<code class="docutils literal"><span class="pre">f()</span></code>, <code class="docutils literal"><span class="pre">f(args)</span></code>,  <code class="docutils literal"><span class="pre">f(args,</span> <span class="pre">stdin=None)</span></code>,
<code class="docutils literal"><span class="pre">f(args,</span> <span class="pre">stdin=None,</span> <span class="pre">stdout=None)</span></code>, and `
<code class="docutils literal"><span class="pre">f(args,</span> <span class="pre">stdin=None,</span> <span class="pre">stdout=None,</span> <span class="pre">stderr=None)</span></code>.</li>
<li>Uncaptured subprocesses now recieve a PTY file handle for stdout and
stderr.</li>
<li>New <code class="docutils literal"><span class="pre">$XONSH_PROC_FREQUENCY</span></code> environment variable that specifies how long
loops in the subprocess framwork should sleep. This may be adjusted from
its default value to improved perfromance and mitigate &#8220;leaky&#8221; pipes on
slower machines.</li>
<li><code class="docutils literal"><span class="pre">Shift+Tab</span></code> moves backwards in completion dropdown in prompt_toolkit</li>
<li>PromptFormatter class that holds all the related prompt methods</li>
<li>PromptFormatter caching when building the prompt</li>
<li>p-strings: <code class="docutils literal"><span class="pre">p'/foo/bar'</span></code> is short for <code class="docutils literal"><span class="pre">pathlib.Path('/foo/bar')</span></code></li>
<li>byte strings: prefixes other than <code class="docutils literal"><span class="pre">b'foo'</span></code> (eg, <code class="docutils literal"><span class="pre">RB'foo'</span></code>) now work</li>
<li>Backticks for regex or glob searches now support an additional modifier
<code class="docutils literal"><span class="pre">p</span></code>, which causes them to return Path objects instead of strings.</li>
<li>New <code class="docutils literal"><span class="pre">BOTTOM_TOOLBAR</span></code> environment variable to control a bottom toolbar as specified in prompt-toolkit</li>
<li>New <code class="docutils literal"><span class="pre">$XONSH_STDERR_PREFIX</span></code> and <code class="docutils literal"><span class="pre">$XONSH_STDERR_POSTFIX</span></code> environment
variables allow the user to print a prompt-like string before and after
all stderr that is seen. For example, say that you would like stderr
to appear on a red background, you might set
<code class="docutils literal"><span class="pre">$XONSH_STDERR_PREFIX</span> <span class="pre">=</span> <span class="pre">&quot;{BACKGROUND_RED}&quot;</span></code> and
<code class="docutils literal"><span class="pre">$XONSH_STDERR_PREFIX</span> <span class="pre">=</span> <span class="pre">&quot;{NO_COLOR}&quot;</span></code>.</li>
<li>New <code class="docutils literal"><span class="pre">xonsh.pyghooks.XonshTerminal256Formatter</span></code> class patches
the pygments formatter to understand xonsh color token semantics.</li>
<li>Load events are now available</li>
<li>New events added: <code class="docutils literal"><span class="pre">on_post_init</span></code>, <code class="docutils literal"><span class="pre">on_pre_cmdloop</span></code>, <code class="docutils literal"><span class="pre">on_pre_rc</span></code>, <code class="docutils literal"><span class="pre">on_post_rc</span></code>, <code class="docutils literal"><span class="pre">on_ptk_create</span></code></li>
<li>Completion for <code class="docutils literal"><span class="pre">xonsh</span></code> builtin functions <code class="docutils literal"><span class="pre">xontrib</span></code> and <code class="docutils literal"><span class="pre">xonfig</span></code></li>
<li>Added a general customization FAQ page to the docs to collect various
tips/tricks/fixes for common issues/requests</li>
<li><code class="docutils literal"><span class="pre">test_single_command</span></code> and <code class="docutils literal"><span class="pre">test_redirect_out_to_file</span></code> tests in <code class="docutils literal"><span class="pre">test_integrations</span></code></li>
<li>Add note that the target of redirection should be separated by a space.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul>
<li><p class="first">CircleCI now handles flake8 checks</p>
</li>
<li><p class="first">Travis doesn&#8217;t allow failures on nightly</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">get_hg_branch</span></code> runs <code class="docutils literal"><span class="pre">hg</span> <span class="pre">root</span></code> to find root dir and check if we&#8217;re in repo</p>
</li>
<li><p class="first">The default style will now use the color keywords (#ansired, #ansidarkred)
to set colors that follow the terminal color schemes. Currently, this requires
prompt_toolkit master (&gt;1.0.8) and pygments master (2.2) to work correctly.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">vox</span> <span class="pre">activate</span></code> now accepts relative directories.</p>
</li>
<li><p class="first">Updated the effectivity of <code class="docutils literal"><span class="pre">$XONSH_DEBUG</span></code> on debug messages.</p>
</li>
<li><p class="first">Better documentation on how to get nice colors in Windows&#8217; default console</p>
</li>
<li><p class="first">All custom prompt_toolkit key binding filters now declared with the
<code class="docutils literal"><span class="pre">&#64;Condition</span></code> decorator</p>
</li>
<li><p class="first">The style for the prompt toolkit completion menu is now lightgray/darkgray instead of turquoise/teal</p>
</li>
<li><p class="first">landscape.io linting now ignores ply directory</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">history</span></code> help messages to reflect subcommand usage</p>
</li>
<li><p class="first">Quote all paths when completion if any of the paths needs be quoted,
so that bash can automatically complete to the max prefix of the paths.</p>
</li>
<li><p class="first">Tee&#8217;d reads now occur in 1kb chunks, rather than character-by-character.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">which</span></code> alias no longer has a trailing newline if it is captured.
This means that <code class="docutils literal"><span class="pre">$(which</span> <span class="pre">cmd)</span></code> will simply be the path to the command.</p>
</li>
<li><p class="first">The following commands are, by default, predicted to be not threadable
in some circumstances:</p>
<blockquote>
<div><ul class="simple">
<li>bash</li>
<li>csh</li>
<li>clear</li>
<li>clear.exe</li>
<li>cls</li>
<li>cmd</li>
<li>ex</li>
<li>fish</li>
<li>htop</li>
<li>ksh</li>
<li>less</li>
<li>man</li>
<li>more</li>
<li>mutt</li>
<li>nano</li>
<li>psql</li>
<li>ranger</li>
<li>rview</li>
<li>rvim</li>
<li>scp</li>
<li>sh</li>
<li>ssh</li>
<li>startx</li>
<li>sudo</li>
<li>tcsh</li>
<li>top</li>
<li>vi</li>
<li>view</li>
<li>vim</li>
<li>vimpager</li>
<li>xo</li>
<li>xonsh</li>
<li>zsh</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">run_subproc()</span></code> function has been replaced with a new implementation.</p>
</li>
<li><p class="first">Piping between processes now uses OS pipes.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$XONSH_STORE_STDIN</span></code> now uses <code class="docutils literal"><span class="pre">os.pread()</span></code> rather than <code class="docutils literal"><span class="pre">tee</span></code> and a new
file.</p>
</li>
<li><p class="first">The implementation of the <code class="docutils literal"><span class="pre">foreground()</span></code> decorator has been moved to
<code class="docutils literal"><span class="pre">unthreadable()</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">voxapi.Vox</span></code> now supports <code class="docutils literal"><span class="pre">pathlib.Path</span></code> and <code class="docutils literal"><span class="pre">PathLike</span></code> objects as virtual environment identifiers</p>
</li>
<li><p class="first">Renamed FORMATTER_DICT to PROMPT_FIELDS</p>
</li>
<li><p class="first">BaseShell instantiates PromptFormatter</p>
</li>
<li><p class="first">readline/ptk shells use PromptFormatter</p>
</li>
<li><p class="first">Updated the bundled version of <code class="docutils literal"><span class="pre">ply</span></code> to current master available</p>
</li>
<li><p class="first">vended <code class="docutils literal"><span class="pre">ply</span></code> is now a git subtree to help with any future updates</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">WHITE</span></code>  color keyword now means lightgray and <code class="docutils literal"><span class="pre">INTENSE_WHITE</span></code> commpletely white</p>
</li>
<li><p class="first">Removed <code class="docutils literal"><span class="pre">add_to_shell</span></code> doc section from <code class="docutils literal"><span class="pre">*nix</span></code> install pages and instead
relocated it to the general customization page</p>
</li>
<li><p class="first">Moved a few <code class="docutils literal"><span class="pre">*nix</span></code> customization tips from the linux install page to the general
customization page</p>
</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>coverage checks</li>
<li><code class="docutils literal"><span class="pre">CompletedCommand</span></code> and <code class="docutils literal"><span class="pre">HiddenCompletedCommand</span></code> classes have been removed
in favor of <code class="docutils literal"><span class="pre">CommandPipeline</span></code> and <code class="docutils literal"><span class="pre">HiddenCommandPipeline</span></code>.</li>
<li><code class="docutils literal"><span class="pre">SimpleProcProxy</span></code> and <code class="docutils literal"><span class="pre">SimpleForegroundProcProxy</span></code> have been removed
in favor of a more general mechanism for dispatching callable aliases
implemented in the <code class="docutils literal"><span class="pre">ProcProxyThread</span></code>  and <code class="docutils literal"><span class="pre">ProcProxy</span></code> classes.</li>
<li><code class="docutils literal"><span class="pre">test_run_subproc.py</span></code> in favor of <code class="docutils literal"><span class="pre">test_integrations.py</span></code></li>
<li>Unused imports in many tests</li>
<li>Many duplicated tests (copypasta)</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>xontrib-mpl now preserves the figure and does not permanently alter it for viewing</li>
<li>Fix up small pep8 violations</li>
<li>Fixed a bug where some files are not showing using bash completer</li>
<li>Fixed some issues with subprocess capturing aliases that it probably
shouldn&#8217;t.</li>
<li><code class="docutils literal"><span class="pre">safe_readable()</span></code> now checks for <code class="docutils literal"><span class="pre">ValueError</span></code> as well.</li>
<li>The scroll bars in the PTK completions menus are back.</li>
<li>Jupyter kernel installation now respects the setuptools <code class="docutils literal"><span class="pre">root</span></code> parameter.</li>
<li>Fix <code class="docutils literal"><span class="pre">__repr__</span></code> and <code class="docutils literal"><span class="pre">__str__</span></code> methods of <code class="docutils literal"><span class="pre">SubprocSpec</span></code> so they report
correctly</li>
<li>Fixed the meassage printed when which is unable to find the command.</li>
<li>Fixed a handful of sphinx errors and warnings in the docs</li>
<li>Fixed many PEP8 violations that had gone unnoticed</li>
<li>Fix failure to detect an Anaconda python distribution if the python was install from the conda-forge channel.</li>
<li>current_branch will try and locate the vc binary once</li>
<li>May now Crtl-C out of an infinite loop with a subprocess, such as
<code class="docutils literal"><span class="pre">`while</span> <span class="pre">True:</span> <span class="pre">sleep</span> <span class="pre">1</span></code>.</li>
<li>Fix for stdin redirects.</li>
<li>Backgrounding works with <code class="docutils literal"><span class="pre">$XONSH_STORE_STDOUT</span></code></li>
<li><code class="docutils literal"><span class="pre">PopenThread</span></code> blocks its thread from finishing until command has completed
or process is suspended.</li>
<li>Added a minimum time buffer time for command pipelines to check for
if previous commands have executed successfully.  This is helpful
for pipelines where the last command takes a long time to start up,
such as GNU Parallel. This also checks to make sure that output has occured.
This includes piping 2+ commands together and pipelines that end in
unthreadable commands.</li>
<li><code class="docutils literal"><span class="pre">curr_branch</span></code> reports correctly when <code class="docutils literal"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">status.short</span> <span class="pre">true</span></code> is used</li>
<li><code class="docutils literal"><span class="pre">pip</span></code> completion now filters results by prefix</li>
<li>Fixed streaming <code class="docutils literal"><span class="pre">!(alias)</span></code> repr evaluation where bytes where not
streamed.</li>
<li>Aliases that begin with a comma now complete correctly (no spurious comma)</li>
<li>Use <code class="docutils literal"><span class="pre">python3</span></code> in shebang lines for compatibility with distros that still use Python 2 as the default Python</li>
<li>STDOUT is only stored when <code class="docutils literal"><span class="pre">$XONSH_STORE_STDOUT=True</span></code></li>
<li>Fixed issue with alais redirections to files throwing an OSError because
the function ProcProxies were not being waited upon.</li>
<li>Fixed issue with callablable aliases that happen to call sys.exit() or
raise SystemExit taking out the whole xonsh process.</li>
<li>Safely flushes file handles on threaded buffers.</li>
<li>Proper default value and documentation for <code class="docutils literal"><span class="pre">$BASH_COMPLETIONS</span></code></li>
<li>Fixed readline completer issues on paths with spaces</li>
<li>Fix bug in <code class="docutils literal"><span class="pre">argvquote()</span></code> functions used when sourcing batch files on Windows. The bug meant an extra backslash was added to UNC paths.
Thanks to &#64;bytesemantics for spotting it, and &#64;janschulz for fixing the issue.</li>
<li>pep8, lint and refator in pytest style of <code class="docutils literal"><span class="pre">test_ptk_multiline.py</span></code>, <code class="docutils literal"><span class="pre">test_replay.py</span></code></li>
<li>Tab completion of aliases returned a upper cased alias on Windows.</li>
<li>History show all action now also include current session items.</li>
<li><code class="docutils literal"><span class="pre">proc.stream_stderr</span></code> now handles stderr that doesn&#8217;t have buffer attribute</li>
<li>Made <code class="docutils literal"><span class="pre">history</span> <span class="pre">show</span></code> result sorted.</li>
<li>Fixed issue that <code class="docutils literal"><span class="pre">history</span> <span class="pre">gc</span></code> does not delete empty history files.</li>
<li>Standard stream tees have been fixed to accept the possibility that
they may not be backed by a binary buffer. This inludes the pipeline
stdout tee as well as the shell tees.</li>
<li>Fixed a bug when the pygments plugin was used by third party editors etc.</li>
<li>CPU usage of <code class="docutils literal"><span class="pre">PopenThread</span></code> and <code class="docutils literal"><span class="pre">CommandPipeline</span></code> has been brought
down significantly.</li>
</ul>
</div>
<div class="section" id="v0-4-7">
<h2>v0.4.7<a class="headerlink" href="#v0-4-7" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Define alias for &#8216;echo&#8217; on startup for Windows only.</li>
<li>New coredev <a class="reference external" href="https://github.com/astronouth7303">astronouth7303</a> added</li>
<li><code class="docutils literal"><span class="pre">which</span> <span class="pre">-a</span></code> now searches in <code class="docutils literal"><span class="pre">__xonsh_ctx__</span></code> too</li>
<li>Info about the xontrib cookiecutter template on xontrib tutorial</li>
<li>xonsh&#8217;s optional dependencies may now be installed with the pip extras <code class="docutils literal"><span class="pre">ptk</span></code>, <code class="docutils literal"><span class="pre">proctitle</span></code>, <code class="docutils literal"><span class="pre">linux</span></code>, <code class="docutils literal"><span class="pre">mac</span></code>, and <code class="docutils literal"><span class="pre">win</span></code>.</li>
<li>Env <code class="docutils literal"><span class="pre">help</span></code> method to format and print the vardocs for an envvar</li>
<li>test_news fails if no empty line before a category</li>
<li>more info on test_news failures</li>
<li>Added <code class="docutils literal"><span class="pre">on_precommand</span></code> and <code class="docutils literal"><span class="pre">on_postcommand</span></code> <a class="reference external" href="/events.html">events</a></li>
<li>New <code class="docutils literal"><span class="pre">FORMATTER_DICT</span></code> entry <code class="docutils literal"><span class="pre">gitstatus</span></code> to provides informative git status</li>
<li>FOREIGN_ALIASES_OVERRIDE envvar to control whether foreign aliases should
override xonsh aliases with the same name.</li>
<li>Warning on tutorial about foreign aliases being ignored if a xonsh alias
exist with the same name if not FOREIGN_ALIASES_OVERRIDE.</li>
<li>The prompt-toolkit shell now auto-inserts matching parentheses, brackets, and quotes. Enabled via the <code class="docutils literal"><span class="pre">XONSH_AUTOPAIR</span></code> environment variable</li>
<li>Better syntax highlights in prompt-toolkit, including valid command / path highlighting, macro syntax highlighting, and more</li>
<li>More info on tutorial about history interaction</li>
<li>Entry on bash_to_xsh</li>
<li>Macro context managers are now available via the <code class="docutils literal"><span class="pre">with!</span></code>
syntax.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Devguide reflects the current process of releasing through <code class="docutils literal"><span class="pre">release.xsh</span></code></li>
<li>moved <code class="docutils literal"><span class="pre">which</span></code> from <code class="docutils literal"><span class="pre">xonsh.aliases</span></code> into <code class="docutils literal"><span class="pre">xoreutils.which</span></code></li>
<li><code class="docutils literal"><span class="pre">xonsh.prompt.gitstatus.gitstatus</span></code> now returns a namedtuple</li>
<li>implementation of <code class="docutils literal"><span class="pre">xonsh.prompt.vc_branch.get_git_branch</span></code> and
<code class="docutils literal"><span class="pre">xonsh.prompt.vc_branch.git_dirty_working_directory</span></code> to use &#8216;git status &#8211;procelain&#8217;</li>
<li>moved prompt formatting specific functions from <code class="docutils literal"><span class="pre">xonsh.environ</span></code>
to <code class="docutils literal"><span class="pre">xonsh.prompt.base</span></code></li>
<li>All prompt formatter functions moved to <code class="docutils literal"><span class="pre">xonsh.prompt</span></code> subpackage</li>
<li>Printing the message about foreign aliases being ingored happens only
if XONSH_DEBUG is set.</li>
<li>Use <code class="docutils literal"><span class="pre">SetConsoleTitleW()</span></code> on Windows instead of a process call.</li>
<li>Tutorial to reflect the current history command argument functionality</li>
<li>Macro function arguments now default to <code class="docutils literal"><span class="pre">str</span></code>, rather than <code class="docutils literal"><span class="pre">eval</span></code>,
for consistentcy with other parts of the macro system.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>aliases that use &#8216;!&#8217; in their name cause they clash with the macro syntax</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p class="first">Fix regression where bash git completions where not loaded
automatically when GitForWindows is installed.</p>
</li>
<li><p class="first">More tokens are now supported in subproc args, such as <code class="docutils literal"><span class="pre">==</span></code>.</p>
</li>
<li><p class="first">Python completions now work without space delimiters, e.g. <code class="docutils literal"><span class="pre">a=matpl&lt;TAB&gt;</span></code>
will complete to <code class="docutils literal"><span class="pre">a=matplotlib</span></code></p>
</li>
<li><p class="first">Parser would fail on nested, captured suprocess macros. Now, it works,
hooray!?</p>
</li>
<li><p class="first">now fires chdir event if OS change in working directory is detected.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">xonsh.prompt.vc_branch.git_dirty_working_directory</span></code></dt>
<dd><p class="first last">uses <code class="docutils literal"><span class="pre">porcelain</span></code> option instead of using the bytestring
<code class="docutils literal"><span class="pre">nothing</span> <span class="pre">to</span> <span class="pre">commit</span></code> to find out if a git directory is dirty</p>
</dd>
</dl>
</li>
<li><p class="first">Fix bug where know commands where not highlighed on windows.</p>
</li>
<li><p class="first">Fixed completer showing executable in upper case on windows.</p>
</li>
<li><p class="first">Fixed issue where tilde expansion was occuring more than once before an
equals sign.</p>
</li>
<li><p class="first">test_dirstack test_cdpath_expansion leaving stray testing dirs</p>
</li>
<li><p class="first">Better completer display for long completions in prompt-toolkit</p>
</li>
<li><p class="first">Automatucally append newine to target of <code class="docutils literal"><span class="pre">source</span></code> alias, so that it may
be exec&#8217;d.</p>
</li>
<li><p class="first">test_news fails when single graves around word</p>
</li>
<li><p class="first">Slashes in virtual environment names work in vox</p>
</li>
<li><p class="first">non string type value in $FORMATTER_DICT turning prompt ugly</p>
</li>
<li><p class="first">whole prompt turning useless when one formatting function raises an exception</p>
</li>
<li><p class="first">Fix completion after alias expansion</p>
</li>
<li><p class="first">Fix hard crash when foreign shell functions fails to run. #1715</p>
</li>
<li><p class="first">Bug where non-default locations for <code class="docutils literal"><span class="pre">XDG_DATA_HOME</span></code> and <code class="docutils literal"><span class="pre">XONSH_DATA_DIR</span></code>
would not expand <code class="docutils literal"><span class="pre">~</span></code> into the home directory</p>
</li>
<li><p class="first">Auto quote path completions if path contains &#8216;and&#8217; or &#8216;or&#8217;</p>
</li>
<li><p class="first">Completion now works on subcommands after pipe, <code class="docutils literal"><span class="pre">&amp;&amp;</span></code>, <code class="docutils literal"><span class="pre">||</span></code> and so on.</p>
</li>
<li><p class="first">cd . and cd &lt;singleCharacter&gt; now work.  Fix indexerror in AUTO_PUSHD case, too.</p>
</li>
<li><p class="first">Fixed issue with accidentally wrapping generators inside of function calls.</p>
</li>
<li><p class="first">History indexing with string returns most recent command.</p>
</li>
</ul>
</div>
<div class="section" id="v0-4-6">
<h2>v0.4.6<a class="headerlink" href="#v0-4-6" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>New option <code class="docutils literal"><span class="pre">COMPLETIONS_CONFIRM</span></code>. When set, <code class="docutils literal"><span class="pre">&lt;Enter&gt;</span></code> is used to confirm
completion instead of running command while completion menu is displayed.</li>
<li>NetBSD is now supported.</li>
<li>Macro function calls are now available. These use a Rust-like
<code class="docutils literal"><span class="pre">f!(arg)</span></code> syntax.</li>
<li>Macro subprocess call now avalaible with the <code class="docutils literal"><span class="pre">echo!</span> <span class="pre">x</span> <span class="pre">y</span> <span class="pre">z</span></code>
syntax.</li>
<li>A new <a class="reference external" href="http://xon.sh/tutorial_events.html">event subsystem</a> has been added.</li>
<li>howto install sections for Debian/Ubuntu and Fedora.</li>
<li><code class="docutils literal"><span class="pre">History</span></code> methods <code class="docutils literal"><span class="pre">__iter__</span></code> and <code class="docutils literal"><span class="pre">__getitem__</span></code></li>
<li><code class="docutils literal"><span class="pre">tools.get_portions</span></code> that yields parts of an iterable</li>
<li>Added a py.test plugin to collect <code class="docutils literal"><span class="pre">test_*.xsh</span></code> files and run <code class="docutils literal"><span class="pre">test_*()</span></code> functions.</li>
<li><code class="docutils literal"><span class="pre">__repr__</span></code> and <code class="docutils literal"><span class="pre">__str__</span></code> magic method on LazyObject</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">create_module</span></code> implementation on XonshImportHook</li>
<li>Results of the <code class="docutils literal"><span class="pre">bash</span></code> tab completer are now properly escaped (quoted) when necessary.</li>
<li>Foreign aliases that match xonsh builtin aliases are now ignored with a warning.</li>
<li><code class="docutils literal"><span class="pre">prompt_toolkit</span></code> completions now only show the rightmost portion
of a given completion in the dropdown</li>
<li>The value of <code class="docutils literal"><span class="pre">'none'</span></code> is no longer allowed for <code class="docutils literal"><span class="pre">$SHELL_TYPE</span></code> just during the initial
load from the environment. <code class="docutils literal"><span class="pre">-D</span></code>, later times, and other sources still work.</li>
<li><code class="docutils literal"><span class="pre">yacc_debug=True</span></code> now load the parser on the same thread that the
Parser instance is created. <code class="docutils literal"><span class="pre">setup.py</span></code> now uses this synchronous
form as it was causing the parser table to be missed by some package
managers.</li>
<li>Tilde expansion for the home directory now has the same semantics as Bash.
Previously it only matched leading tildes.</li>
<li>Context sensitive AST transformation now checks that all names in an
expression are in scope. If they are, then Python mode is retained. However,
if even one is missing, subprocess wrapping is attempted. Previously, only the
left-most name was examined for being within scope.</li>
<li><code class="docutils literal"><span class="pre">dirstack.pushd</span></code> and <code class="docutils literal"><span class="pre">dirstack.popd</span></code> now handle UNC paths (of form <code class="docutils literal"><span class="pre">\\&lt;server&gt;\&lt;share&gt;\...</span></code>), but only on Windows.
They emulate behavior of <cite>CMD.EXE</cite> by creating a temporary mapped drive letter (starting from z: down) to replace
the <code class="docutils literal"><span class="pre">\\&lt;server&gt;\&lt;share&gt;</span></code> portion of the path, on the <code class="docutils literal"><span class="pre">pushd</span></code> and unmapping the drive letter when all references
to it are popped.</li>
<li>And <code class="docutils literal"><span class="pre">dirstack</span></code> suppresses this temporary drive mapping funky jive if registry entry
<code class="docutils literal"><span class="pre">HKCU\software\microsoft\command</span> <span class="pre">processor\DisableUNCCheck</span></code> (or HKLM...) is a DWORD value 1.  This allows Xonsh
to show the actual UNC path in your prompt string and <em>also</em> allows subprocess commands invoking <cite>CMD.EXE</cite> to run in
the expected working directory. See <a class="reference external" href="https://support.microsoft.com/en-us/kb/156276">https://support.microsoft.com/en-us/kb/156276</a> to satisfy any lingering curiosity.</li>
<li><code class="docutils literal"><span class="pre">lazy_locate_binary</span></code> handles binary on different drive letter than current working directory (on Windows).</li>
<li><code class="docutils literal"><span class="pre">_curr_session_parser</span></code> now iterates over <code class="docutils literal"><span class="pre">History</span></code></li>
<li>New implementation of bash completer with better performance and compatibility.</li>
<li><code class="docutils literal"><span class="pre">$COMPLETIONS_BRACKETS</span></code> is now available to determine whether or not to
include opening brackets in Python completions</li>
<li><code class="docutils literal"><span class="pre">xonsh.bat</span></code> tries to use <a class="reference external" href="https://www.python.org/dev/peps/pep-0397/">pylauncher</a> when available.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">History</span></code> method <code class="docutils literal"><span class="pre">show</span></code></li>
<li><code class="docutils literal"><span class="pre">_hist_get_portion</span></code> in favor of <code class="docutils literal"><span class="pre">tools.get_portions</span></code></li>
<li>Unused imports in proc, flake8.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>xonsh modules imported now have the __file__ attribute</li>
<li>Context senstitive AST transformer was not adding argument names to the
local scope. This would then enable extraneous subprocess mode wrapping
for expressions whose leftmost name was function argument. This has been
fixed by properly adding the argument names to the scope.</li>
<li>Foreign shell functions that are mapped to empty filenames no longer
receive alaises since they can&#8217;t be found to source later.</li>
<li>Correctly preserve arguments given to xon.sh, in case there are quoted ones.</li>
<li>Environment variables in subprocess mode were not being expanded
unless they were in a sting. They are now expanded properly.</li>
<li>Fixed a bug that prevented xonsh from running scripts with code caching disabled.</li>
<li>Text of instructions to download missing program now does not get off and
appears in whole.</li>
<li>Fix some test problems when win_unicode_console was installed on windows.</li>
<li>Fixed bug that prompt string and <code class="docutils literal"><span class="pre">$PWD</span></code> failed to track change in actual working directory if the
invoked Python function happened to change it (e.g via <code class="docutils literal"><span class="pre">`os.chdir()`</span></code>.  Fix is to update <code class="docutils literal"><span class="pre">$PWD</span></code>
after each command in <code class="docutils literal"><span class="pre">`BaseShell.default()`</span></code>.</li>
<li>The interactive prompt now correctly handles multiline strings.</li>
<li><code class="docutils literal"><span class="pre">cd</span> <span class="pre">\\&lt;server&gt;\&lt;share&gt;</span></code> now works when $AUTO_PUSHD is set, either creating a temporary mapped drive or simply
setting UNC working directory based on registry <code class="docutils literal"><span class="pre">DisableUNCCheck</span></code>.  However, if $AUTO_PUSHD is not set and UNC
checking is enabled (default for Windows), it issues an error message and fails.  This improves on prior behavior,
which would fail to change the current working directory, but would set $PWD and prompt string to the UNC path,
creating false expectations.</li>
<li>fix parsing for tuple of tuples (like <cite>(),()</cite>)</li>
<li><code class="docutils literal"><span class="pre">sys.stdin</span></code>, <code class="docutils literal"><span class="pre">sys.stdout</span></code>, <code class="docutils literal"><span class="pre">sys.stderr</span></code> no longer complete with
opening square brackets</li>
<li>xonsh now properly handles syntax error messages arising from using values in inappropriate contexts (e.g., <code class="docutils literal"><span class="pre">del</span> <span class="pre">7</span></code>).</li>
</ul>
</div>
<div class="section" id="v0-4-5">
<h2>v0.4.5<a class="headerlink" href="#v0-4-5" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">_hist_get</span></code> that uses generators to filter and fetch
the history commands of each session.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">-n</span></code> option to the show subcommand to choose
to numerate the commands.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">exec</span></code> command is now a first class alias that acts the same way as in
sh-based languages. It replaces the current process with the command and
argument that follows it. This allows xonsh to be used as a default shell
while maintaining functionality with SSH, gdb, and other third party programs
that assume the default shell supports raw <code class="docutils literal"><span class="pre">exec</span> <span class="pre">command</span> <span class="pre">[args]</span></code> syntax.</p>
<p>This feature introduces some ambiguity between exec-as-a-subprocess and
exec-as-a-function (the inescapable Python builtin). Though the two pieces of
syntax do not overlap, they perform very different operations. Please see
the xonsh FAQ for more information on trade-offs and mitigation strategies.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">which</span> <span class="pre">-v</span></code> now calls superhelp, which will print highlighted source.</p>
</li>
<li><p class="first">Added xontribs:
* <a class="reference external" href="https://github.com/astronouth7303/xontrib-z">z (Tracks your most used directories, based on &#8216;frecency&#8217;.)</a></p>
</li>
<li><p class="first">amalgamate.py now supports relative imports.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">history</span> <span class="pre">show</span></code> args <code class="docutils literal"><span class="pre">-t</span></code>, <code class="docutils literal"><span class="pre">-f</span></code>, <code class="docutils literal"><span class="pre">-T</span></code> <code class="docutils literal"><span class="pre">+T</span></code> to filter commands by timestamp</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">ensure_timestamp</span></code> in xonsh.tools to try and convert an object to a timestamp a.k.a float</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$XONSH_DATETIME_FORMAT</span></code> envvar, the default format to be used with <code class="docutils literal"><span class="pre">datetime.datetime.strptime()</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">xon.sh</span></code> script now sets <code class="docutils literal"><span class="pre">$LANG=C.UTF8</span></code> in the event that no encoding
is detected.</p>
</li>
<li><p class="first">amalgamate.py now properly handles <code class="docutils literal"><span class="pre">from</span> <span class="pre">__future__</span></code> imports.</p>
</li>
</ul>
<p><strong>Changed:</strong></p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">_hist_show</span></code> now uses <code class="docutils literal"><span class="pre">_hist_get</span></code> to print out the commands.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">xonsh.completers</span></code> sub-package is now fully lazy.</p>
</li>
<li><p class="first">The vox xontrib now takes flags very similar to Python&#8217;s venv tool. Use
<code class="docutils literal"><span class="pre">vox</span> <span class="pre">--help</span> <span class="pre">&lt;command&gt;</span></code> to learn more.</p>
</li>
<li><p class="first">Xontribs may now define <code class="docutils literal"><span class="pre">__all__</span></code> as a module top-level to limit what gets exported to the shell context</p>
</li>
<li><p class="first">xon.sh uses the interpreter used to install instead of the default python3.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">imphooks</span></code> now checks directory access rights.</p>
</li>
<li><p class="first">$TITLE now changes both icon (tab) and window title</p>
</li>
<li><p class="first">Moved <code class="docutils literal"><span class="pre">amalgamate_source</span></code> outside <code class="docutils literal"><span class="pre">build_tables</span></code></p>
</li>
<li><p class="first">Disable amalgamation on setup develop</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">_hist_parse_args</span></code> implementation refactor</p>
</li>
<li><p class="first">moved all parameter checking in <code class="docutils literal"><span class="pre">_hist_get</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">_hist_show</span></code> to handle numeration and timestamp printing of commands</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">xonsh.imphooks</span></code> does not install the import hooks automatically, you now
need to explicitly call the  <cite>install_hook()</cite> method defined in this module.
For example: <code class="docutils literal"><span class="pre">from</span> <span class="pre">xonsh.imphooks</span> <span class="pre">import</span> <span class="pre">install_hook;</span> <span class="pre">install_hook()</span></code>. The
<code class="docutils literal"><span class="pre">install_hook</span></code> method can safely be called several times. If you need
compatibility with previous versions of Xonsh you can use the following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">xonsh</span> <span class="k">import</span> <span class="n">imphooks</span>
<span class="nb">getattr</span><span class="p">(</span><span class="n">imphooks</span><span class="p">,</span> <span class="s1">&#39;install_hook&#39;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span><span class="kc">None</span><span class="p">)()</span>
</pre></div>
</div>
</li>
<li><p class="first">xonfig command now dumps more encoding related settings.</p>
</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>Anaconda Build is shutting down so we can no longer build conda development packages.
All references to these packages are removed from the documentation.</li>
<li>Removed conda build recipe since the it is no longer used for Anaconda Build.
The recipe used to build xonsh on conda-forge can be found here:
<a class="reference external" href="https://github.com/conda-forge/xonsh-feedstock/blob/master/recipe/meta.yaml">https://github.com/conda-forge/xonsh-feedstock/blob/master/recipe/meta.yaml</a></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">_zsh_hist_parser</span></code> not parsing history files without timestamps.</li>
<li>Fixed amalgamation of aliased imports that are already in <code class="docutils literal"><span class="pre">sys.modules</span></code>.</li>
<li>Xonsh will no longer fail to start in directories where the user doesn&#8217;t have
read access.</li>
<li>Fixed parser error line number exception from being raised while trying to
raise a SyntaxError.</li>
<li>Made pip completer more robust to when pip is not installed.</li>
<li>Fix a startup problem on windows caused by a refactor of Prompt_toolkit.
<a class="reference external" href="https://github.com/jonathanslenders/python-prompt-toolkit/commit/a9df2a2">https://github.com/jonathanslenders/python-prompt-toolkit/commit/a9df2a2</a></li>
<li><code class="docutils literal"><span class="pre">ensure_slice</span></code> bugfix for -1 index/slice</li>
<li>Alias tab completion works again</li>
<li>Version number reported by bundled PLY</li>
<li><code class="docutils literal"><span class="pre">xonfig</span></code> no longer breaks if PLY is externally installed and version 3.8</li>
<li>LazyObject supports set union</li>
<li>Fixed error with not sourcing files with <code class="docutils literal"><span class="pre">$XONSH_ENCODING</span></code> and
<code class="docutils literal"><span class="pre">$XONSH_ENCODING_ERRORS</span></code>.</li>
<li><code class="docutils literal"><span class="pre">$IGNOREEOF</span></code> envrionment variable now works properly in the
prompt-toolkit shell.</li>
<li>Completions in <code class="docutils literal"><span class="pre">jupyter_kernel.py</span></code> now use updated completion framework</li>
</ul>
</div>
<div class="section" id="v0-4-4">
<h2>v0.4.4<a class="headerlink" href="#v0-4-4" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p class="first">New <code class="docutils literal"><span class="pre">lazyobject()</span></code>, <code class="docutils literal"><span class="pre">lazydict()</span></code>, and <code class="docutils literal"><span class="pre">lazybool()</span></code> decorators to turn
functions into lazy, global objects.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">vox</span> <span class="pre">remove</span></code> command can remove multiple environments at once.</p>
</li>
<li><p class="first">Added FreeBSD support.</p>
</li>
<li><p class="first">Tab completion for pip python package manager.</p>
</li>
<li><p class="first">Regular expressions for enviroment variable matching</p>
</li>
<li><p class="first">__contains__ method on Env</p>
</li>
<li><p class="first">Added news tests to enforce changelog conformity.</p>
</li>
<li><p class="first">A new way to add optional items to the prompt format string has been added.
Instead of relying on formatter dict items being padded with a space, now the
padding characters are specified in the format string itself, in place of the
format spec (after a <code class="docutils literal"><span class="pre">:</span></code>).</p>
<p>For example, previously the prompt string <code class="docutils literal"><span class="pre">{cwd}{curr_branch}</span> <span class="pre">$</span></code> would rely
on <code class="docutils literal"><span class="pre">curr_branch</span></code> giving its output prepended with a space for separation,
or outputting nothing if it is not applicable. Now <code class="docutils literal"><span class="pre">curr_branch</span></code> just
outputs a value or <code class="docutils literal"><span class="pre">None</span></code>, and the prompt string has to specify the
surrounding characters: <code class="docutils literal"><span class="pre">{cwd}{curr_branch:</span> <span class="pre">{}}</span> <span class="pre">$</span></code>. Here the  value of
<code class="docutils literal"><span class="pre">curr_branch</span></code> will be prepended with a space (<code class="docutils literal"><span class="pre">{}</span></code> is a placeholder for
the value itself). The format string after <code class="docutils literal"><span class="pre">:</span></code> is applied only if the value
is not <code class="docutils literal"><span class="pre">None</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">xonsh.completers</span></code> subpackage is now amalgamated.</p>
</li>
<li><p class="first">amalgamate.py will now warn if the same name is defined across multiple
different files.</p>
</li>
<li><p class="first">xonsh_builtins, xonsh_execer fixtures in conftest.py</p>
</li>
<li><p class="first">Docs on how to tweak the Windows ConHost for a better color scheme.</p>
</li>
<li><p class="first">Docs: how to fix Thunar&#8217;s &#8220;Open Terminal Here&#8221; action.</p>
</li>
<li><p class="first">A new API class was added to Vox: <code class="docutils literal"><span class="pre">xontrib.voxapi.Vox</span></code>. This allows programtic access to the virtual environment machinery for other xontribs. See the API documentation for details.</p>
</li>
<li><p class="first">History now accepts multiple slices arguments separated by spaces</p>
</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>amalgamate now works on Python 2 and allows relative imports.</li>
<li>Top-level xonsh package now more lazy.</li>
<li>Show conda environement name in prompt in parentheses similiar what conda does.</li>
<li>Implementation of expandvars now uses regex</li>
<li>Because of the addition of &#8220;optional items&#8221; to the prompt format string, the
functions <code class="docutils literal"><span class="pre">xonsh.environ.current_branch</span></code>, <code class="docutils literal"><span class="pre">xonsh.environ.env_name</span></code> and
formatter dict items <code class="docutils literal"><span class="pre">curr_branch</span></code>, <code class="docutils literal"><span class="pre">current_job</span></code>, <code class="docutils literal"><span class="pre">env_name</span></code> are
no longer padded with a separator.</li>
<li>many test cases to use fixtures and parametrization</li>
<li>Public interface in <code class="docutils literal"><span class="pre">xonsh.ansi_colors</span></code> module now has <code class="docutils literal"><span class="pre">ansi_</span></code>
prefix to prevent name conflicts with other parts of xonsh.</li>
<li>Vox was moved to xontrib. Behaves exactly the same as before, just need to add it to your xontribs.</li>
<li>is_int_as_str and is_slice_as_str are now reimplemented in EAFP style</li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li>yield statements (nose style) and for loops in tests</li>
<li>is_int_or_slice</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>_is_in_env, _get_env_string functions on tools</li>
<li><code class="docutils literal"><span class="pre">xonsh.environ.format_prompt</span></code> has been dropped; <code class="docutils literal"><span class="pre">partial_format_prompt</span></code>
can be used instead.</li>
<li>for loops and yield statements in test cases, unused imports</li>
<li>is_int_or_slice</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed bug on Windows preventing xonsh from changing the console title.</li>
<li>Unrecognized <code class="docutils literal"><span class="pre">$XONSH_COLOR_STYLE</span></code> values don&#8217;t crash terminal.</li>
<li>Writing the window title will no longer accidentally answer interactive
questions, eg <code class="docutils literal"><span class="pre">rm</span> <span class="pre">-i</span></code> now works as expected.</li>
<li>more matching cases for envvar reference</li>
<li>Certain linux VTE terminals would not start new tabs in the previous CWD.
This may now be rectified by adding <code class="docutils literal"><span class="pre">{vte_new_tab_cwd}</span></code> somewhere to the
prompt.</li>
<li>Unqualified usage of Unstorable in xonsh setup wizard that was causing the
wizard to crash and burn</li>
<li>Bare <code class="docutils literal"><span class="pre">except:</span></code> was replaced with <code class="docutils literal"><span class="pre">except</span> <span class="pre">Exception</span></code> to prevent
accidentally catching utility exceptions such as KeyboardInterrupt, which
caused unexpected problems like printing out the raw $PROMPT string.</li>
<li>Fixed multiple definition of <code class="docutils literal"><span class="pre">EQUAL</span></code>.</li>
<li>Fixed multiple definition of <code class="docutils literal"><span class="pre">pprint</span></code>.</li>
<li>Fixed multiple definition of <code class="docutils literal"><span class="pre">pyghooks</span></code>.</li>
<li>Fixed multiple definition of <code class="docutils literal"><span class="pre">pygments</span></code>.</li>
<li>Fixed multiple definition of <code class="docutils literal"><span class="pre">tokenize</span></code>.</li>
<li>redundant and &#8216;leaky&#8217; tests in nose</li>
<li>Fix bug that prevented disabling $INTENSIFY_COLORS_ON_WIN in <code class="docutils literal"><span class="pre">xonshrc</span></code></li>
<li><code class="docutils literal"><span class="pre">LazyJSON</span></code> will now hide failures to close, and instead rely on reference
counting if something goes wrong.</li>
<li>Fixed maximum recurssion error with color styles.</li>
<li>Parser tables will no longer be generated in the current directory
by accident.</li>
<li>Error messages when zsh or bash history file is not found</li>
</ul>
</div>
<div class="section" id="v0-4-3">
<h2>v0.4.3<a class="headerlink" href="#v0-4-3" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>The results of glob expressions are sorted if <code class="docutils literal"><span class="pre">$GLOB_SORTED</span></code> is set.</li>
<li>LazyObjects will now load themselves on <code class="docutils literal"><span class="pre">__getitem__()</span></code></li>
<li>New tools in <code class="docutils literal"><span class="pre">xonsh.lazyasd</span></code> module for loading modules in background
threads.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">GLOB_SORTED</span></code> is enabled by default.</li>
<li>Sped up loading of pygments by ~100x by loading <code class="docutils literal"><span class="pre">pkg_resources</span></code> in
background.</li>
<li>Sped up loading of prompt-toolkit by ~2x-3x by loading <code class="docutils literal"><span class="pre">pkg_resources</span></code>
in background.</li>
<li><code class="docutils literal"><span class="pre">setup.py</span></code> will no longer git checkout to replace the version number.
Now it simply stores and reuses the original version line.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>Removed the <code class="docutils literal"><span class="pre">xonsh.built_ins.ENV</span></code> global instance of the Env class.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Bug with setting hist size not being settable due to lazy object loading
has been resolved.</li>
<li>Minor amalgamate bug with <code class="docutils literal"><span class="pre">import</span> <span class="pre">pkg.mod</span></code> amalgamated imports.</li>
<li>No longer raises an error if a directory in <code class="docutils literal"><span class="pre">$PATH</span></code> does not exist on
Python v3.4.</li>
<li>Fixed a readline shell completion issue that caused by inconsistence between
<code class="docutils literal"><span class="pre">$CASE_SENSITIVE_COMPLETIONS</span></code> and readline&#8217;s inputrc setting.</li>
</ul>
</div>
<div class="section" id="v0-4-2">
<h2>v0.4.2<a class="headerlink" href="#v0-4-2" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>dev versions now display a <code class="docutils literal"><span class="pre">devN</span></code> counter at the end and <code class="docutils literal"><span class="pre">xonfig</span> <span class="pre">info</span></code>
also displays the git sha of the current build</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><cite>prompt_toolkit</cite> completion no longer automatically selects the first entry on first tab-press when completing multiple directories at once</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Sourcing foreign shells now allow fully capture environment variables that
contain newlines as long as they also don&#8217;t contain equal signs.</li>
<li>Added scripts directory to MANIFEST.in</li>
</ul>
</div>
<div class="section" id="v0-4-1">
<h2>v0.4.1<a class="headerlink" href="#v0-4-1" title="Permalink to this headline">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">setup.py</span></code> will only amalgamate source files if <code class="docutils literal"><span class="pre">amalgamate.py</span></code> is
available. This fixes issues with installing from pip.</li>
</ul>
</div>
<div class="section" id="v0-4-0">
<h2>v0.4.0<a class="headerlink" href="#v0-4-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p class="first">A new class, <code class="docutils literal"><span class="pre">xonsh.tools.EnvPath</span></code> has been added. This class implements a
<code class="docutils literal"><span class="pre">MutableSequence</span></code> object and overrides the <code class="docutils literal"><span class="pre">__getitem__</span></code> method so that
when its entries are requested (either explicitly or implicitly), variable
and user expansion is performed, and relative paths are resolved.
<code class="docutils literal"><span class="pre">EnvPath</span></code> accepts objects (or lists of objects) of <code class="docutils literal"><span class="pre">str</span></code>, <code class="docutils literal"><span class="pre">bytes</span></code> or
<code class="docutils literal"><span class="pre">pathlib.Path</span></code> types.</p>
</li>
<li><p class="first">New amalgamate tool collapses modules inside of a package into a single
<code class="docutils literal"><span class="pre">__amalgam__.py</span></code> module. This tool glues together all of the code from the
modules in a package, finds and removes intra-package imports, makes all
non-package imports lazy, and adds hooks into the <code class="docutils literal"><span class="pre">__init__.py</span></code>.
This helps makes initial imports of modules fast and decreases startup time.
Packages and sub-packages must be amalgamated separately.</p>
</li>
<li><p class="first">New lazy and self-destructive module <code class="docutils literal"><span class="pre">xonsh.lazyasd</span></code> adds a suite of
classes for delayed creation of objects.</p>
<blockquote>
<div><ul class="simple">
<li>A <code class="docutils literal"><span class="pre">LazyObject</span></code> won&#8217;t be created until it has an attribute accessed.</li>
<li>A <code class="docutils literal"><span class="pre">LazyDict</span></code> will load each value only when a key is accessed.</li>
<li>A <code class="docutils literal"><span class="pre">LazyBool</span></code> will only be created when <code class="docutils literal"><span class="pre">__bool__()</span></code> is called.</li>
</ul>
</div></blockquote>
<p>Additionally, when fully loaded, the above objects will replace themselves
by name in the context that they were handed, thus derefenceing themselves.
This is useful for global variables that may be expensive to create,
should only be created once, and may not be used in any particular session.</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">xon.sh</span></code> script added for launching xonsh from a sh environment.
This should be used if the normal <code class="docutils literal"><span class="pre">xonsh</span></code> script does not work for
some reason.</p>
</li>
<li><p class="first">Normal globbing is now available in Python mode via <code class="docutils literal"><span class="pre">g``</span></code></p>
</li>
<li><p class="first">Backticks were expanded to allow searching using arbitrary functions, via
<code class="docutils literal"><span class="pre">&#64;&lt;func&gt;``</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">xonsh.platform</span></code> now has a new <code class="docutils literal"><span class="pre">PATH_DEFAULT</span></code> variable.</p>
</li>
<li><p class="first">Tab completers can now raise <code class="docutils literal"><span class="pre">StopIteration</span></code> to prevent consideration of
remaining completers.</p>
</li>
<li><p class="first">Added tab completer for the <code class="docutils literal"><span class="pre">completer</span></code> alias.</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">Block</span></code> and <code class="docutils literal"><span class="pre">Functor</span></code> context managers are now available as
part of the <code class="docutils literal"><span class="pre">xonsh.contexts</span></code> module.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Block</span></code> provides support for turning a context body into a non-executing
list of string lines. This is implmement via a syntax tree transformation.
This is useful for creating remote execution tools that seek to prevent
local execution.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Functor</span></code> is a subclass of the <code class="docutils literal"><span class="pre">Block</span></code> context manager that turns the
block into a callable object.  The function object is available via the
<code class="docutils literal"><span class="pre">func()</span></code> attribute.  However, the <code class="docutils literal"><span class="pre">Functor</span></code> instance is itself callable
and will dispatch to <code class="docutils literal"><span class="pre">func()</span></code>.</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">$VC_BRANCH_TIMEOUT</span></code> environment variable is the time (in seconds)
of how long to spend attempting each individual version control branch
information command during <code class="docutils literal"><span class="pre">$PROMPT</span></code> formatting.  This allows for faster
prompt resolution and faster startup times.</p>
</li>
<li><p class="first">New lazy methods added to CommandsCache allowing for testing and inspection
without the possibility of recomputing the cache.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">!(command)</span></code> is now usefully iterable, yielding lines of stdout</p>
</li>
<li><p class="first">Added XonshCalledProcessError, which includes the relevant CompletedCommand.
Also handles differences between Py3.4 and 3.5 in CalledProcessError</p>
</li>
<li><p class="first">Tab completion of paths now includes zsh-style path expansion (subsequence
matching), toggleable with <code class="docutils literal"><span class="pre">$SUBSEQUENCE_PATH_COMPLETION</span></code></p>
</li>
<li><p class="first">Tab completion of paths now includes &#8220;fuzzy&#8221; matches that are accurate to
within a few characters, toggleable with <code class="docutils literal"><span class="pre">$FUZZY_PATH_COMPLETION</span></code></p>
</li>
<li><p class="first">Provide <code class="docutils literal"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script&#8217;s path</p>
</li>
<li><p class="first">Arguments &#8216;+&#8217; and &#8216;-&#8216; for the <code class="docutils literal"><span class="pre">fg</span></code> command (job control)</p>
</li>
<li><p class="first">Provide <code class="docutils literal"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script&#8217;s path</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">!(command)</span></code> is now usefully iterable, yielding lines of stdout</p>
</li>
<li><p class="first">Added XonshCalledProcessError, which includes the relevant CompletedCommand.
Also handles differences between Py3.4 and 3.5 in CalledProcessError</p>
</li>
<li><p class="first">XonshError and XonshCalledProcessError are now in builtins:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">session</span></code></li>
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">xonsh</span></code></li>
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">all</span></code></li>
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">zsh</span></code></li>
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">bash</span></code></li>
<li><code class="docutils literal"><span class="pre">__xonsh_history__.show()</span></code></li>
</ul>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">pathsep_to_set()</span></code> and <code class="docutils literal"><span class="pre">set_to_pathsep()</span></code> functions convert to/from
<code class="docutils literal"><span class="pre">os.pathsep</span></code> separated strings to a set of strings.</p>
</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Changed testing framework from nose to pytest</li>
<li>All <code class="docutils literal"><span class="pre">PATH</span></code>-like environment variables are now stored in an <code class="docutils literal"><span class="pre">EnvPath</span></code>
object, so that non-absolute paths or paths containing environment variables
can be resolved properly.</li>
<li>In <code class="docutils literal"><span class="pre">VI_MODE</span></code>, the <code class="docutils literal"><span class="pre">v</span></code> key will enter character selection mode, not open
the editor.  <code class="docutils literal"><span class="pre">Ctrl-X</span> <span class="pre">Ctrl-E</span></code> will still open an editor in any mode</li>
<li><code class="docutils literal"><span class="pre">$XONSH_DEBUG</span></code> will now supress amalgamted imports. This usually needs to be
set in the calling environment or prior to <em>any</em> xonsh imports.</li>
<li>Restuctured <code class="docutils literal"><span class="pre">xonsh.platform</span></code> to be fully lazy.</li>
<li>Restuctured <code class="docutils literal"><span class="pre">xonsh.ansi_colors</span></code> to be fully lazy.</li>
<li>Ensured the <code class="docutils literal"><span class="pre">pygments</span></code> and <code class="docutils literal"><span class="pre">xonsh.pyghooks</span></code> are not imported until
actually needed.</li>
<li>Yacc parser is now loaded in a background thread.</li>
<li>Cleaned up argument parsing in <code class="docutils literal"><span class="pre">xonsh.main.premain</span></code> by removing the
<code class="docutils literal"><span class="pre">undo_args</span></code> hack.</li>
<li>Now complains on invalid arguments.</li>
<li><code class="docutils literal"><span class="pre">Env</span></code> now guarantees that the <code class="docutils literal"><span class="pre">$PATH</span></code> is available and mutable when
initialized.</li>
<li>On Windows the <code class="docutils literal"><span class="pre">PROMPT</span></code> environment variable is reset to <cite>$P$G</cite> before
sourcing <code class="docutils literal"><span class="pre">*.bat</span></code> files.</li>
<li>On Windows the <code class="docutils literal"><span class="pre">PROMPT</span></code> environment variable is reset to <cite>$P$G</cite> before starting
subprocesses. This prevents the unformatted xonsh <code class="docutils literal"><span class="pre">PROMPT</span></code> tempalte from showing up
when running batch files with <code class="docutils literal"><span class="pre">ECHO</span> <span class="pre">ON`</span></code></li>
<li><code class="docutils literal"><span class="pre">&#64;()</span></code> now passes through functions as well as strings, which allows for the
use of anonymous aliases and aliases not explicitly added to the <code class="docutils literal"><span class="pre">aliases</span></code>
mapping.</li>
<li>Functions in <code class="docutils literal"><span class="pre">Execer</span></code> now take <code class="docutils literal"><span class="pre">transform</span></code> kwarg instead of
<code class="docutils literal"><span class="pre">wrap_subproc</span></code>.</li>
<li>Provide <code class="docutils literal"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script&#8217;s path</li>
<li>XonshError and XonshCalledProcessError are now in builtins</li>
<li><code class="docutils literal"><span class="pre">__repr__</span></code> on the environment only shows a short representation of the
object instead of printing the whole environment dictionary</li>
<li>More informative prompt when configuring foreign shells in the wizard.</li>
<li><code class="docutils literal"><span class="pre">CommandsCache</span></code> is now a mapping from command names to a tuple of
(executable locations, has alias flags). This enables faster lookup times.</li>
<li><code class="docutils literal"><span class="pre">locate_bin()</span></code> now uses the <code class="docutils literal"><span class="pre">CommandsCache</span></code>, rather than scanning the
<code class="docutils literal"><span class="pre">$PATH</span></code> itself.</li>
<li><code class="docutils literal"><span class="pre">$PATHEXT</span></code> is now a set, rather than a list.</li>
<li>Ignore case and leading a quotes when sorting completions</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">'console_scripts'</span></code> option to setuptools has been removed. It was found
to cause slowdowns of over 150 ms on every startup.</li>
<li>Bash is no longer loaded by default as a foreign shell for initial
configuration. This was done to increase stock startup times. This
behaviour can be recovered by adding <code class="docutils literal"><span class="pre">{&quot;shell&quot;:</span> <span class="pre">&quot;bash&quot;}</span></code> to your
<code class="docutils literal"><span class="pre">&quot;foreign_shells&quot;</span></code> in your config.json file. For more details,
see <a class="reference external" href="http://xon.sh/xonshconfig.html#foreign-shells">http://xon.sh/xonshconfig.html#foreign-shells</a></li>
<li><code class="docutils literal"><span class="pre">ensure_git()</span></code> and <code class="docutils literal"><span class="pre">ensure_hg()</span></code> decorators removed.</li>
<li><code class="docutils literal"><span class="pre">call_hg_command()</span></code> function removed.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Issue where <code class="docutils literal"><span class="pre">xonsh</span></code> did not expand user and environment variables in
<code class="docutils literal"><span class="pre">$PATH</span></code>, forcing the user to add absolute paths.</li>
<li>Fixed a problem with aliases not always beeing found.</li>
<li>Fixed issue where input was directed to the last process in a pipeline,
rather than the first.</li>
<li>Bug where xonfig wizard can&#8217;t find ENV docs</li>
<li>Fixed <code class="docutils literal"><span class="pre">xonsh.environ.locate_binary()</span></code> to handle PATH variable are given as a tuple.</li>
<li>Fixed missing completions for <code class="docutils literal"><span class="pre">cd</span></code> and <code class="docutils literal"><span class="pre">`rmdir</span></code> when directories had spaces
in their names.</li>
<li>Bug preventing <cite>xonsh</cite> executable being installed on macOS.</li>
<li>Strip leading space in commands passed using the &#8220;-c&#8221; switch</li>
<li>Fixed xonfig wizard failing on Windows due to colon in created filename.</li>
<li>Ensured that the prompt_toolkit shell functions, even without a <code class="docutils literal"><span class="pre">completer</span></code>
attribute.</li>
<li>Fixed crash resulting from malformed <code class="docutils literal"><span class="pre">$PROMPT</span></code> or <code class="docutils literal"><span class="pre">$TITLE</span></code>.</li>
<li>xonsh no longer backgrounds itself after every command on Cygwin.</li>
<li>Fixed an issue about <code class="docutils literal"><span class="pre">os.killpg()</span></code> on Cygwin which caused xonsh to crash
occasionally</li>
<li>Fix crash on startup when Bash Windows Subsystem for Linux is on the Path.</li>
<li>Fixed issue with setting and signaling process groups on Linux when the first
process is a function alias and has no pid.</li>
<li>Fixed <code class="docutils literal"><span class="pre">_list_completers</span></code> such that it does not throw a ValueError if no completer is registered.</li>
<li>Fixed <code class="docutils literal"><span class="pre">_list_completers</span></code> such that it does not throw an AttributeError if a completer has no docstring.</li>
<li>Bug that caused command line argument <code class="docutils literal"><span class="pre">--config-path</span></code> to be ignored.</li>
<li>Bug that caused xonsh to break on startup when prompt-toolkit &lt; 1.0.0.</li>
</ul>
</div>
<div class="section" id="v0-3-4">
<h2>v0.3.4<a class="headerlink" href="#v0-3-4" title="Permalink to this headline">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">$PROMPT</span></code> from foreign shells is now ignored.</li>
<li><code class="docutils literal"><span class="pre">$RC_FILES</span></code> environment variable now stores the run control files we
attempted to load.</li>
<li>Only show the prompt for the wizard if we did not attempt to load any run
control files (as opposed to if none were successfully loaded).</li>
<li>Git and mercurial branch and dirty function refactor to imporve run times.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed an issue whereby attempting to delete a literal value (e.g., <code class="docutils literal"><span class="pre">del</span> <span class="pre">7</span></code>)
in the prompt_toolkit shell would cause xonsh to crash.</li>
<li>Fixed broken behavior when using <code class="docutils literal"><span class="pre">cd</span> <span class="pre">..</span></code> to move into a nonexistent
directory.</li>
<li>Partial workaround for Cygwin where <code class="docutils literal"><span class="pre">pthread_sigmask</span></code> appears to be missing
from the <code class="docutils literal"><span class="pre">signal</span></code> module.</li>
<li>Fixed crash resulting from malformed <code class="docutils literal"><span class="pre">$PROMPT</span></code>.</li>
<li>Fixed regression on Windows with the locate_binary() function.
The bug prevented <cite>source-cmd</cite> from working correctly and broke the
<code class="docutils literal"><span class="pre">activate</span></code>/<code class="docutils literal"><span class="pre">deactivate</span></code> aliases for the conda environements.</li>
<li>Fixed crash resulting from errors other than syntax errors in run control
file.</li>
<li>On Windows if bash is not on the path look in the registry for the defaults
install directory for GitForWindows.</li>
</ul>
</div>
<div class="section" id="v0-3-3">
<h2>v0.3.3<a class="headerlink" href="#v0-3-3" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Question mark literals, <code class="docutils literal"><span class="pre">?</span></code>, are now allowed as part of
subprocess argument names.</li>
<li>IPython style visual pointer to show where syntax error was detected</li>
<li>Pretty printing of output and syntax highlighting of input and output can now
be controlled via new environment variables <code class="docutils literal"><span class="pre">$COLOR_INPUT</span></code>,
<code class="docutils literal"><span class="pre">$COLOR_RESULTS</span></code>, and <code class="docutils literal"><span class="pre">$PRETTY_PRINT_RESULTS</span></code>.</li>
<li>In interactive mode, if there are stopped or background jobs, Xonsh prompts
for confirmations rather than just killing all jobs and exiting.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">which</span></code> now gives a better verbose report of where the executables are
found.</li>
<li>Tab completion now uses a different interface, which allows new completers
to be implemented in Python.</li>
<li>Most functions in the <code class="docutils literal"><span class="pre">Execer</span></code> now take an extra argument
<code class="docutils literal"><span class="pre">transform</span></code>, indicating whether the syntax tree transformations should
be applied.</li>
<li><code class="docutils literal"><span class="pre">prompt_toolkit</span></code> is now loaded lazily, decreasing load times when using
the <code class="docutils literal"><span class="pre">readline</span></code> shell.</li>
<li>RC files are now executed directly in the appropriate context.</li>
<li><code class="docutils literal"><span class="pre">_</span></code> is now updated by <code class="docutils literal"><span class="pre">![]</span></code>, to contain the appropriate
<code class="docutils literal"><span class="pre">CompletedCommand</span></code> object.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>Fixed bug on Windows where <code class="docutils literal"><span class="pre">which</span></code> did not include current directory</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed crashed bash-completer when bash is not avaiable on Windows</li>
<li>Fixed bug on Windows where tab-completion for executables would return all files.</li>
<li>Fixed bug on Windows which caused the bash $PROMPT variable to be used when no
no $PROMPT variable was set in .xonshrc</li>
<li>Improved start-up times by caching information about bash completion
functions</li>
<li>The &#8211;shell-type CLI flag now takes precedence over $SHELL_TYPE specified in
.xonshrc</li>
<li>Fixed an issue about <code class="docutils literal"><span class="pre">os.killpg()</span></code> on OS X which caused xonsh crash with
occasionality</li>
</ul>
</div>
<div class="section" id="v0-3-2">
<h2>v0.3.2<a class="headerlink" href="#v0-3-2" title="Permalink to this headline">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed PermissionError when tab completions tries to lookup executables in
directories without read permissions.</li>
<li>Fixed incorrect parsing of command line flags</li>
</ul>
</div>
<div class="section" id="v0-3-1">
<h2>v0.3.1<a class="headerlink" href="#v0-3-1" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>When a subprocess exits with a signal (e.g. SIGSEGV), a message is printed,
similar to Bash.</li>
<li>Added comma literals to subproc mode.</li>
<li><code class="docutils literal"><span class="pre">&#64;$(cmd)</span></code> has been added as a subprocess-mode operator, which replaces in
the subprocess command itself with the result of running <code class="docutils literal"><span class="pre">cmd</span></code>.</li>
<li>New <code class="docutils literal"><span class="pre">showcmd</span></code> alias for displaying how xonsh interprets subprocess mode
commands and arguments.</li>
<li>Added <code class="docutils literal"><span class="pre">$DYNAMIC_CWD_WIDTH</span></code> to allow the adjusting of the current working
directory width in the prompt.</li>
<li>Added <code class="docutils literal"><span class="pre">$XONSH_DEBUG</span></code> environment variable to help with debuging.</li>
<li>The <code class="docutils literal"><span class="pre">${...}</span></code> shortcut for <code class="docutils literal"><span class="pre">__xonsh_env__</span></code> now returns appropriate
completion options</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>On Windows the default bash completions files <code class="docutils literal"><span class="pre">$BASH_COMPLETIONS</span></code> now points
to the default location of the completions files used by &#8216;Git for Windows&#8217;</li>
<li>On Cygwin, some tweaks are applied to foreign shell subprocess calls and the
readline import, in order to avoid hangs on launch.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>Special cased code for handling version of prompt_toolkit &lt; v1.0.0</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Show sorted bash completions suggestions.</li>
<li>Fix bash completions (e.g git etc.) on windows when completions files have
spaces in their path names</li>
<li>Fixed a bug preventing <code class="docutils literal"><span class="pre">source-bash</span></code> from working on Windows</li>
<li>Numerous improvements to job control via a nearly-complete rewrite.</li>
<li>Addressed issue with finding the next break in subproc mode in context
sensitive parsing.</li>
<li>Fixed issue with loading readline init files (inputrc) that seems to be
triggered by libedit.</li>
<li><code class="docutils literal"><span class="pre">$MULTILINE_PROMPT</span></code> now allows colors, as originally intended.</li>
<li>Rectified install issue with Jupyter hook when installing with pyenv,
Jupyter install hook now repects <code class="docutils literal"><span class="pre">--prefix</span></code> argument.</li>
<li>Fixed issue with the xonsh.ply subpackage not being installed.</li>
<li>Fixed a parsing bug whereby a trailing <code class="docutils literal"><span class="pre">&amp;</span></code> on a line was being ignored
(processes were unable to be started in the background)</li>
</ul>
</div>
<div class="section" id="v0-3-0">
<h2>v0.3.0<a class="headerlink" href="#v0-3-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">and</span></code>, <code class="docutils literal"><span class="pre">or</span></code>, <code class="docutils literal"><span class="pre">&amp;&amp;</span></code>, <code class="docutils literal"><span class="pre">||</span></code> have been added as subprocess logical operators,
by popular demand!</li>
<li>Subprocesses may be negated with <code class="docutils literal"><span class="pre">not</span></code> and grouped together with parentheses.</li>
<li>New framework for writing xonsh extentions, called <code class="docutils literal"><span class="pre">xontribs</span></code>.</li>
<li>Added a new shell type <code class="docutils literal"><span class="pre">'none'</span></code>, used to avoid importing <code class="docutils literal"><span class="pre">readline</span></code> or
<code class="docutils literal"><span class="pre">prompt_toolkit</span></code> when running scripts or running a single command.</li>
<li>New: <cite>sudo</cite> functionality on Windows through an alias</li>
<li>Automatically enhance colors for readability in the default terminal (cmd.exe)
on Windows. This functionality can be enabled/disabled with the
$INTENSIFY_COLORS_ON_WIN environment variable.</li>
<li>Added <code class="docutils literal"><span class="pre">Ellipsis</span></code> lookup to <code class="docutils literal"><span class="pre">__xonsh_env__</span></code> to allow environment variable checks, e.g. <code class="docutils literal"><span class="pre">'HOME'</span> <span class="pre">in</span> <span class="pre">${...}</span></code></li>
<li>Added an option to update <code class="docutils literal"><span class="pre">os.environ</span></code> every time the xonsh environment changes.
This is disabled by default but can be enabled by setting <code class="docutils literal"><span class="pre">$UPDATE_OS_ENVIRON</span></code> to
True.</li>
<li>Added Windows &#8216;cmd.exe&#8217; as a foreign shell. This gives xonsh the ability to source
Windows Batch files (.bat and .cmd). Calling <code class="docutils literal"><span class="pre">source-cmd</span> <span class="pre">script.bat</span></code> or the
alias <code class="docutils literal"><span class="pre">source-bat</span> <span class="pre">script.bat</span></code> will call the bat file and changes to the
environment variables will be reflected in xonsh.</li>
<li>Added an alias for the conda environment activate/deactivate batch scripts when
running the Anaconda python distribution on Windows.</li>
<li>Added a menu entry to launch xonsh when installing xonsh from a conda package</li>
<li>Added a new <code class="docutils literal"><span class="pre">which</span></code> alias that supports both regular <code class="docutils literal"><span class="pre">which</span></code> and also searches
through xonsh aliases. A pure python implementation of <code class="docutils literal"><span class="pre">which</span></code> is used. Thanks
to Trent Mick. <a class="reference external" href="https://github.com/trentm/which/">https://github.com/trentm/which/</a></li>
<li>Added support for prompt toolkit v1.0.0.</li>
<li>Added <code class="docutils literal"><span class="pre">$XONSH_CACHE_SCRIPTS</span></code> and <code class="docutils literal"><span class="pre">$XONSH_CACHE_EVERYTHING</span></code> environment
variables to control caching of scripts and interactive commands.  These can
also be controlled by command line options <code class="docutils literal"><span class="pre">--no-script-cache</span></code> and
<code class="docutils literal"><span class="pre">--cache-everything</span></code> when starting xonsh.</li>
<li>Added a workaround to allow ctrl-c to interrupt reverse incremental search in
the readline shell</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Running scripts through xonsh (or running a single command with <code class="docutils literal"><span class="pre">-c</span></code>) no
longer runs the user&#8217;s rc file, unless the <code class="docutils literal"><span class="pre">--login</span></code> option is specified.
Also avoids loading aliases and environments from foreign shells, as well as
loading bash completions.</li>
<li>rc files are now compiled and cached, to avoid re-parsing when they haven&#8217;t
changed.  Scripts are also compiled and cached, and there is the option to
cache interactive commands.</li>
<li>Left and Right arrows in the <code class="docutils literal"><span class="pre">prompt_toolkit</span></code> shell now wrap in multiline
environments</li>
<li>Regexpath matching with backticks, now returns an empty list in python mode.</li>
<li>Pygments added as a dependency for the conda package</li>
<li>Foreign shells now allow for setting exit-on-error commands before and after
all other commands via the <code class="docutils literal"><span class="pre">seterrprevcmd</span></code> and <code class="docutils literal"><span class="pre">seterrpostcmd</span></code> arguments.
Sensinble defaults are provided for existing shells.</li>
<li>PLY is no longer a external dependency but is bundled in xonsh/ply. Xonsh can
therefore run without any external dependencies, although having prompt-toolkit
recommended.</li>
<li>Provide better user feedback when running <code class="docutils literal"><span class="pre">which</span></code> in a platform that doesn&#8217;t
provide it (e.g. Windows).</li>
<li>The lexer now uses a custom tokenizer that handles regex globs in the proper
way.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed bug with loading prompt-toolkit shell &lt; v0.57.</li>
<li>Fixed bug with prompt-toolkit completion when the cursor is not at the end of
the line.</li>
<li>Aliases will now evaluate enviornment variables and other expansions
at execution time rather than passing through a literal string.</li>
<li>Fixed environment variables from os.environ not beeing loaded when a running
a script</li>
<li>The readline shell will now load the inputrc files.</li>
<li>Fixed bug that prevented <cite>source-alias</cite> from working.</li>
<li>Now able to <code class="docutils literal"><span class="pre">^C</span></code> the xonfig wizard on start up.</li>
<li>Fixed deadlock on Windows when runing subprocess that generates enough output
to fill the OS pipe buffer.</li>
<li>Sourcing foreign shells will now return a non-zero exit code if the
source operation failed for some reason.</li>
<li>Fixed PermissionError when running commands in directories without read permissions</li>
<li>Prevent Windows fixups from overriding environment vars in static config</li>
<li>Fixed Optional Github project status to reflect added/removed files via git_dirty_working_directory()</li>
<li>Fixed xonsh.exe launcher on Windows, when Python install directory has a space in it</li>
<li>Fixed <cite>$CDPATH</cite> to support <cite>~</cite> and environments variables in its items</li>
</ul>
</div>
<div class="section" id="v0-2-7">
<h2>v0.2.7<a class="headerlink" href="#v0-2-7" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Added new valid <code class="docutils literal"><span class="pre">$SHELL_TYPE</span></code> called <code class="docutils literal"><span class="pre">'best'</span></code>. This selects the best value
for the concrete shell type based on the availability on the user&#8217;s machine.</li>
<li>New environment variable <code class="docutils literal"><span class="pre">$XONSH_COLOR_STYLE</span></code> will set the color mapping
for all of xonsh.</li>
<li>New <code class="docutils literal"><span class="pre">XonshStyle</span></code> pygments style will determine the approriate color
mapping based on <code class="docutils literal"><span class="pre">$XONSH_COLOR_STYLE</span></code>.  The associated <code class="docutils literal"><span class="pre">xonsh_style_proxy()</span></code>
is intended for wrapping <code class="docutils literal"><span class="pre">XonshStyle</span></code> when actually being used by
pygments.</li>
<li>The functions <code class="docutils literal"><span class="pre">print_color()</span></code> and <code class="docutils literal"><span class="pre">format_color()</span></code> found in <code class="docutils literal"><span class="pre">xonsh.tools</span></code>
dispatch to the approriate shell color handling and may be used from
anywhere.</li>
<li><code class="docutils literal"><span class="pre">xonsh.tools.HAVE_PYGMENTS</span></code> flag now denotes if pygments is installed and
available on the users system.</li>
<li>The <code class="docutils literal"><span class="pre">ansi_colors</span></code> module is now availble for handling ANSI color codes.</li>
<li><code class="docutils literal"><span class="pre">?</span></code> and <code class="docutils literal"><span class="pre">??</span></code> operator output now has colored titles, like in IPython.</li>
<li><code class="docutils literal"><span class="pre">??</span></code> will syntax highlight source code if pygments is available.</li>
<li>Python mode output is now syntax highlighted if pygments is available.</li>
<li>New <code class="docutils literal"><span class="pre">$RIGHT_PROMPT</span></code> environment variable for displaying right-aligned
text in prompt-toolkit shell.</li>
<li>Added <code class="docutils literal"><span class="pre">!(...)</span></code> operator, which returns an object representing the result
of running a command.  The truth value of this object is True if the
return code is equal to zero and False otherwise.</li>
<li>Optional dependency on the win_unicode_console package to enable unicode
support in cmd.exe on Windows. This can be disabled/enabled with the
<code class="docutils literal"><span class="pre">$WIN_UNICODE_CONSOLE</span></code> environment variable.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Updated <code class="docutils literal"><span class="pre">$SHELL_TYPE</span></code> default to <code class="docutils literal"><span class="pre">'best'</span></code>.</li>
<li>Shell classes are now responsible for implementing their own color
formatting and printing.</li>
<li>Prompt coloring, history diffing, and tracing uses new color handling
capabilities.</li>
<li>New <code class="docutils literal"><span class="pre">Token.Color</span></code> token for xonsh color names, e.g. we now use
<code class="docutils literal"><span class="pre">Token.Color.RED</span></code> rather than <code class="docutils literal"><span class="pre">Token.RED</span></code>.</li>
<li>Untracked files in git are ignored when determining if a git workdir is
is dirty. This affects the coloring of the branch label.</li>
<li>Regular expression globbing now uses <code class="docutils literal"><span class="pre">re.fullmatch</span></code> instead of
<code class="docutils literal"><span class="pre">re.match</span></code>, and the result of an empty regex glob does not cause the
argument to be deleted.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">xonsh.tools.TERM_COLORS</span></code> mapping has been axed, along with all
references to it. This may cause a problem if you were using a raw color code
in your xonshrc file from <code class="docutils literal"><span class="pre">$FORMATTER_DICT</span></code>. To fix, simply remove these
references.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Multidimensional slicing, as in numpy, no longer throws SyntaxErrors.</li>
<li>Some minor zsh fixes for more platforms and setups.</li>
<li>The <code class="docutils literal"><span class="pre">BaseShell.settitle</span></code> method no longer has its commands captured by
<code class="docutils literal"><span class="pre">$(...)</span></code></li>
</ul>
</div>
<div class="section" id="v0-2-6">
<h2>v0.2.6<a class="headerlink" href="#v0-2-6" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">trace</span></code> alias added that enables users to turn on and off the printing
of source code lines prior to their execution. This is useful for debugging scripts.</li>
<li>New ability to force callable alias functions to be run in the foreground, i.e.
the main thread from which the function was called. This is useful for debuggers
and profilers which may require such access. Use the <code class="docutils literal"><span class="pre">xonsh.proc.foreground</span></code>
decorator on an alias function to flag it. <code class="docutils literal"><span class="pre">ForegroundProcProxy</span></code> and
<code class="docutils literal"><span class="pre">SimpleForegroundProcProxy</span></code> classes have been added to support this feature.
Normally, forcing a foreground alias is not needed.</li>
<li>Added boolean <code class="docutils literal"><span class="pre">$RAISE_SUBPROC_ERROR</span></code> environment variable. If true
and a subprocess command exits with a non-zero return code, a
CalledProcessError will be raised. This is useful in scripts that should
fail at the first error.</li>
<li>If the <code class="docutils literal"><span class="pre">setproctitle</span></code> package is installed, the process title will be
set to <code class="docutils literal"><span class="pre">'xonsh'</span></code> rather than the path to the Python interpreter.</li>
<li>zsh foreign shell interface now supported natively in xonsh, like with Bash.
New <code class="docutils literal"><span class="pre">source-zsh</span></code> alias allows easy access to zsh scripts and functions.</li>
<li>Vox virtual environment manager added.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">foreign_shell_data()</span></code> keyword arguments <code class="docutils literal"><span class="pre">envcmd</span></code> and <code class="docutils literal"><span class="pre">aliascmd</span></code>
now default to <code class="docutils literal"><span class="pre">None</span></code>.</li>
<li>Updated alias docs to pull in usage from the commands automatically.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Hundreds of bugs related to line and column numbers have been addressed.</li>
<li>Fixed path completion not working for absolute paths or for expanded paths on Windows.</li>
<li>Fixed issue with hg dirty branches and $PATH.</li>
<li>Fixed issues related to foreign shell data in files with whitespace in the names.</li>
<li>Worked around bug in ConEmu/cmder which prevented <code class="docutils literal"><span class="pre">get_git_branch()</span></code>
from working in these terminal emulators on Windows.</li>
</ul>
</div>
<div class="section" id="v0-2-5">
<h2>v0.2.5<a class="headerlink" href="#v0-2-5" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>New configuration utility &#8216;xonfig&#8217; which reports current system
setup information and creates config files through an interactive
wizard.</li>
<li>Toolkit for creating wizards now available</li>
<li>timeit and which aliases will now complete their arguments.</li>
<li>$COMPLETIONS_MENU_ROWS environment variable controls the size of the
tab-completion menu in prompt-toolkit.</li>
<li>Prompt-toolkit shell now supports true multiline input with the ability
to scroll up and down in the prompt.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>The xonfig wizard will run on interactive startup if no configuration
file is found.</li>
<li>BaseShell now has a singleline() method for prompting a single input.</li>
<li>Environment variable docs are now auto-generated.</li>
<li>Prompt-toolkit shell will now dynamically allocate space for the
tab-completion menu.</li>
<li>Looking up nonexistent environment variables now generates an error
in Python mode, but produces a sane default value in subprocess mode.</li>
<li>Environments are now considered to contain all manually-adjusted keys,
and also all keys with an associated default value.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>Removed <code class="docutils literal"><span class="pre">xonsh.ptk.shortcuts.Prompter.create_prompt_layout()</span></code> and
<code class="docutils literal"><span class="pre">xonsh.ptk.shortcuts.Prompter.create_prompt_application()</span></code> methods
to reduce portion of xonsh that forks prompt-toolkit. This may require
users to upgrade to prompt-toolkit v0.57+.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>First prompt in the prompt-toolkit shell now allows for up and down
arrows to search through history.</li>
<li>Made obtaining the prompt-toolkit buffer thread-safe.</li>
<li>Now always set non-detypable environment variables when sourcing
foreign shells.</li>
<li>Fixed issue with job management if a TTY existed but was not controlled
by the process, posix only.</li>
<li>Jupyter kernel no longer times out when using foreign shells on startup.</li>
<li>Capturing redirections, e.g. <code class="docutils literal"><span class="pre">$(echo</span> <span class="pre">hello</span> <span class="pre">&gt;</span> <span class="pre">f.txt)</span></code>, no longer fails
with a decoding error.</li>
<li>Evaluation in a Jupyter cell will return pformatted object.</li>
<li>Jupyter with redirect uncaptured subprocs to notebook.</li>
<li>Tab completion in Jupyter fixed.</li>
</ul>
</div>
<div class="section" id="v0-2-1-v0-2-4">
<h2>v0.2.1 - v0.2.4<a class="headerlink" href="#v0-2-1-v0-2-4" title="Permalink to this headline">¶</a></h2>
<p>You are reading the docs...but you still feel hungry.</p>
</div>
<div class="section" id="v0-2-0">
<h2>v0.2.0<a class="headerlink" href="#v0-2-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Rich history recording and replaying</li>
</ul>
</div>
<div class="section" id="v0-1-0">
<h2>v0.1.0<a class="headerlink" href="#v0-1-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Naturally typed environment variables</li>
<li>Inherits the environment from BASH</li>
<li>Uses BASH completion for subprocess commands</li>
<li>Regular expression filename globbing</li>
<li>Its own PLY-based lexer and parser</li>
<li>xonsh code parses into a Python AST</li>
<li>You can do all the normal Python things, like arithmetic and importing</li>
<li>Captured and uncaptured subprocesses</li>
<li>Pipes, redirection, and non-blocking subprocess syntax support</li>
<li>Help and superhelp with ? and ??</li>
<li>Command aliasing</li>
<li>Multiline input, unlike ed</li>
<li>History matching like in IPython</li>
<li>Color prompts</li>
<li>Low system overhead</li>
</ul>
</div>
<div class="section" id="id1">
<h2>&lt;v0.1.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The before times, like 65,000,000 BCE.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="index.html" title="index">
          <img class="logo" src="_static/ascii_conch_part_color_tight.png" alt="Logo"/>
        </a></p><div class="sphinxlocaltoc">
    <h3><a href="index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Xonsh Change Log</a><ul>
<li><a class="reference internal" href="#v0-5-12">v0.5.12</a></li>
<li><a class="reference internal" href="#v0-5-11">v0.5.11</a></li>
<li><a class="reference internal" href="#v0-5-10">v0.5.10</a></li>
<li><a class="reference internal" href="#v0-5-9">v0.5.9</a></li>
<li><a class="reference internal" href="#v0-5-8">v0.5.8</a></li>
<li><a class="reference internal" href="#v0-5-7">v0.5.7</a></li>
<li><a class="reference internal" href="#v0-5-6">v0.5.6</a></li>
<li><a class="reference internal" href="#v0-5-5">v0.5.5</a></li>
<li><a class="reference internal" href="#v0-5-4">v0.5.4</a></li>
<li><a class="reference internal" href="#v0-5-3">v0.5.3</a></li>
<li><a class="reference internal" href="#v0-5-2">v0.5.2</a></li>
<li><a class="reference internal" href="#v0-5-1">v0.5.1</a></li>
<li><a class="reference internal" href="#v0-5-0">v0.5.0</a></li>
<li><a class="reference internal" href="#v0-4-7">v0.4.7</a></li>
<li><a class="reference internal" href="#v0-4-6">v0.4.6</a></li>
<li><a class="reference internal" href="#v0-4-5">v0.4.5</a></li>
<li><a class="reference internal" href="#v0-4-4">v0.4.4</a></li>
<li><a class="reference internal" href="#v0-4-3">v0.4.3</a></li>
<li><a class="reference internal" href="#v0-4-2">v0.4.2</a></li>
<li><a class="reference internal" href="#v0-4-1">v0.4.1</a></li>
<li><a class="reference internal" href="#v0-4-0">v0.4.0</a></li>
<li><a class="reference internal" href="#v0-3-4">v0.3.4</a></li>
<li><a class="reference internal" href="#v0-3-3">v0.3.3</a></li>
<li><a class="reference internal" href="#v0-3-2">v0.3.2</a></li>
<li><a class="reference internal" href="#v0-3-1">v0.3.1</a></li>
<li><a class="reference internal" href="#v0-3-0">v0.3.0</a></li>
<li><a class="reference internal" href="#v0-2-7">v0.2.7</a></li>
<li><a class="reference internal" href="#v0-2-6">v0.2.6</a></li>
<li><a class="reference internal" href="#v0-2-5">v0.2.5</a></li>
<li><a class="reference internal" href="#v0-2-1-v0-2-4">v0.2.1 - v0.2.4</a></li>
<li><a class="reference internal" href="#v0-2-0">v0.2.0</a></li>
<li><a class="reference internal" href="#v0-1-0">v0.1.0</a></li>
<li><a class="reference internal" href="#id1">&lt;v0.1.0</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="devguide.html"
                          title="Previous page">&larr; Developer&#8217;s Guide</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="faq.html"
                          title="Next page">&rarr; Frequently Asked Questions</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/changelog.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="faq.html" title="Frequently Asked Questions"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="devguide.html" title="Developer’s Guide"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">xonsh 0.5.12 documentation</a> &#187;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Anthony Scopatz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>